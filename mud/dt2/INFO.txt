Deeper Trouble - The Second Generation --  <URL:telnet://sunsite.auc.dk:4242/>

Last tested: LPMud 3.2.1@141 (modified)

Provided are the diffs and extra files used to patch up 3.2.1@141.

Differences of the driver to standard LDMud:
  - ANSI-aware line wrapping to 80 characters per line is built into the
    driver.
  - When the game shuts down, the lfun "save_character" is called in
    every player.
  - Unique efun describe_items().
  - Efuns cat() and (through simul efuns) save_object(), restore_object(),
    destruct(), rename() and typeof() have a modified functionality.
  - Short verbs are implemented.
  - The interactive command "%%" repeats the last command executed.
    This does not work for commands executed with efun execute_command().
  - The object save file format differs, and is claimed to be compatible
    with DGD.

To create the DT2 version of LDMud:
 - apply the src.diff to the standard sources, configure the driver and
   compile it;
 - add the code from obj/simul_efun_add.c to the simul_efun object;
 - adapt the master object functions valid_write() and valid_read()
   to recognize "copy_file" as access function (the old driver re-used
   "move_file" for this).

The files of interest are:

  src.diff: the patches for the driver sources
  doc.diff: the patches for the standard driver docs
  doc/... : additional doc files
  obj/simul_efun_add.c: the additional sefun code
  obsolete/..: code which is no longer used (hopefully)
            Among these are:
    obsolete/omitted.diff: all changes which haven't been
            put into the driver.
    obsolete/321@141-dt2.diff: the original diff of
            the DT2 driver to Amylaar 3.2.1@141
    obsolete/lmalloc.c: I think this is the original
            2.4.5 allocator.

