Subject: Fehler mit __INIT() und bei virtuellen Inherits
From: vondincklage <daniel@ozet.de>
Date: Mon, 22 Feb 1999 17:03:52 +0100 (CET)
Type: Feature
State: Unclassified
See also: p-990227

p-990227 has the small problem that __INIT() is not called correctly
(i.e. complete). But I don't think that it's worth patching it, because
IMHO it would be better to replace the __INIT() by a sensible initialisation
of the variables.

I suggest to insert into each class a dedicated function with the index '-1'
(with appropriate changes to PROGRAM_SIZE et al) which is responsible for
the variable initialisation. This function has no name.

When an object is cloned/loaded, this function must be called with a
'deep_call_other()'.

The disadvantage is the incompatibility to the current method, because
some muds abuse __INIT() for code which is guaranteed to be called
before create(). This could be simulated with a proper create-hook, though.

If desired, I could create the patch, but since it would be quite a biggie
I'd like to know first if the patch is accepted.
