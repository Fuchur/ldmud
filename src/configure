#! /bin/sh














# Guess values for system-dependent variables and create Makefiles.
# Generated automatically using autoconf version 2.13 
# Copyright (C) 1992, 93, 94, 95, 96 Free Software Foundation, Inc.
#
# This configure script is free software; the Free Software Foundation
# gives unlimited permission to copy, distribute and modify it.

# Defaults:
ac_help=
ac_default_prefix=/usr/local
# Any additions from configure.in:
ac_default_prefix=/usr/local/mud
ac_help="$ac_help
  --enable-erq=(no/erq/xerq)          default=enabled(erq)
        Enables and or selects ERQ demon"
ac_help="$ac_help
  --enable-access-control             default=enabled"
ac_help="$ac_help
  --enable-access-log                 default=disabled"
ac_help="$ac_help
  --enable-align-functions            default=enabled"
ac_help="$ac_help
  --enable-compat-mode                default=disabled"
ac_help="$ac_help
  --enable-strict-euids               default=disabled"
ac_help="$ac_help
  --enable-supply-parse-command       default=enabled"
ac_help="$ac_help
  --enable-initialization-by-__init   default=enabled"
ac_help="$ac_help
  --enable-use-system-crypt           default=enabled"
ac_help="$ac_help
  --enable-udp-send                   default=enabled"
ac_help="$ac_help
  --enable-use-ipv6                   default=disabled"
ac_help="$ac_help
  --enable-use-mysql                  default=disabled"
ac_help="$ac_help
  --enable-lpc-nosave                 default=enabled
        Enables the 'nosave' keyword"
ac_help="$ac_help
  --enable-comm-stat                  default=enabled"
ac_help="$ac_help
  --enable-apply-cache_stat           default=enabled"
ac_help="$ac_help
  --enable-malloc-trace               default=disabled"
ac_help="$ac_help
  --enable-malloc-lpc-trace           default=disabled"
ac_help="$ac_help
  --enable-max-malloced               default=enabled"
ac_help="$ac_help
  --enable-min-malloced               default=disabled"
ac_help="$ac_help
  --enable-dynamic-costs              default=disabled"
ac_help="$ac_help
  --enable-catch-udp-port             default=enabled"
ac_help="$ac_help
  --enable-rxcache_table              default=enabled"
ac_help="$ac_help
  --with-access-file=VALUE            default=ACCESS.ALLOW
        access permissions file"
ac_help="$ac_help
  --with-access-log=VALUE             default=access.allow.log
        access log file"
ac_help="$ac_help
  --with-erq-max-reply=VALUE          default=1024"
ac_help="$ac_help
  --with-erq-max-send=VALUE           default=1024"
ac_help="$ac_help
  --with-read-file-max-size=BYTES     default=50000
        maximum size of a file allowed to be read by 'read_file()'"
ac_help="$ac_help
  --with-master-name=VALUE            default=secure/master
        name of the master object"
ac_help="$ac_help
  --with-time-to-clean_up=SECONDS     default=3600"
ac_help="$ac_help
  --with-time-to-swap=SECONDS         default=900"
ac_help="$ac_help
  --with-time-to-swap-variables=SECONDS  default=1800"
ac_help="$ac_help
  --with-time-to-reset=SECONDS        default=1800"
ac_help="$ac_help
  --with-evaluator-stack-size=VALUE   default=2000"
ac_help="$ac_help
  --with-max-user-trace=VALUE         default=60"
ac_help="$ac_help
  --with-max-trace=VALUE              default=65"
ac_help="$ac_help
  --with-compiler-stack-size=VALUE    default=400"
ac_help="$ac_help
  --with-max-bits=VALUE               default=6144"
ac_help="$ac_help
  --with-portno=VALUE                 default=4242"
ac_help="$ac_help
  --with-maxnumports=VALUE            default=20"
ac_help="$ac_help
  --with-max-cost=VALUE               default=1000000"
ac_help="$ac_help
  --with-catch-reserved-cost=VALUE    default=2000"
ac_help="$ac_help
  --with-master-reserved-cost=VALUE   default=0x200"
ac_help="$ac_help
  --with-swap-file=VALUE              default=LP_SWAP.3
        name of the swap file"
ac_help="$ac_help
  --with-max-array-size=VALUE         default=3000"
ac_help="$ac_help
  --with-max-mapping-size=VALUE       default=5000"
ac_help="$ac_help
  --with-max-players=VALUE            default=50"
ac_help="$ac_help
  --with-max-local=VALUE              default=50"
ac_help="$ac_help
  --with-allowed-ed-cmds=VALUE        default=20
        number of ed commands per backend cycle"
ac_help="$ac_help
  --with-reserved-user-size=VALUE     default=700000"
ac_help="$ac_help
  --with-reserved-master-size=VALUE   default=100000"
ac_help="$ac_help
  --with-reserved-system-size=VALUE   default=200000"
ac_help="$ac_help
  --with-htable-size=VALUE            default=4096"
ac_help="$ac_help
  --with-itable-size=VALUE            default=256"
ac_help="$ac_help
  --with-otable-size=VALUE            default=1024"
ac_help="$ac_help
  --with-defmax=VALUE                 default=65000"
ac_help="$ac_help
  --with-apply-cache-bits=VALUE       default=12"
ac_help="$ac_help
  --with-rxcache-table=VALUE          default=16384"
ac_help="$ac_help
  --with-max-byte-transfer=VALUE      default=50000"
ac_help="$ac_help
  --with-catch-udp-port=VALUE         default=4246"
ac_help="$ac_help
  --with-set-buffer-size-max=VALUE    default=65536"
ac_help="$ac_help
  --with-malloc=smalloc/sysmalloc     default=smalloc
        memory manager to use"
ac_help="$ac_help
  --with-min-malloced=VALUE           default=0x1000000"
ac_help="$ac_help
  --with-max-malloced=VALUE           default=0x4000000"
ac_help="$ac_help
  --with-total-trace-length=VALUE     default=0x1000"
ac_help="$ac_help
  --with-setting=SETTING  include a predefined setting"
ac_help="$ac_help
  --with-target    ??"

# Initialize some variables set by options.
# The variables have the same names as the options, with
# dashes changed to underlines.
build=NONE
cache_file=./config.cache
exec_prefix=NONE
host=NONE
no_create=
nonopt=NONE
no_recursion=
prefix=NONE
program_prefix=NONE
program_suffix=NONE
program_transform_name=s,x,x,
silent=
site=
srcdir=
target=NONE
verbose=
x_includes=NONE
x_libraries=NONE
bindir='${exec_prefix}/bin'
sbindir='${exec_prefix}/sbin'
libexecdir='${exec_prefix}/libexec'
datadir='${prefix}/share'
sysconfdir='${prefix}/etc'
sharedstatedir='${prefix}/com'
localstatedir='${prefix}/var'
libdir='${exec_prefix}/lib'
includedir='${prefix}/include'
oldincludedir='/usr/include'
infodir='${prefix}/info'
mandir='${prefix}/man'

# Initialize some other variables.
subdirs=
MFLAGS= MAKEFLAGS=
SHELL=${CONFIG_SHELL-/bin/sh}
# Maximum number of lines to put in a shell here document.
ac_max_here_lines=12

ac_prev=
for ac_option
do

  # If the previous option needs an argument, assign it.
  if test -n "$ac_prev"; then
    eval "$ac_prev=\$ac_option"
    ac_prev=
    continue
  fi

  case "$ac_option" in
  -*=*) ac_optarg=`echo "$ac_option" | sed 's/[-_a-zA-Z0-9]*=//'` ;;
  *) ac_optarg= ;;
  esac

  # Accept the important Cygnus configure options, so we can diagnose typos.

  case "$ac_option" in

  -bindir | --bindir | --bindi | --bind | --bin | --bi)
    ac_prev=bindir ;;
  -bindir=* | --bindir=* | --bindi=* | --bind=* | --bin=* | --bi=*)
    bindir="$ac_optarg" ;;

  -build | --build | --buil | --bui | --bu)
    ac_prev=build ;;
  -build=* | --build=* | --buil=* | --bui=* | --bu=*)
    build="$ac_optarg" ;;

  -cache-file | --cache-file | --cache-fil | --cache-fi \
  | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)
    ac_prev=cache_file ;;
  -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \
  | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* | --c=*)
    cache_file="$ac_optarg" ;;

  -datadir | --datadir | --datadi | --datad | --data | --dat | --da)
    ac_prev=datadir ;;
  -datadir=* | --datadir=* | --datadi=* | --datad=* | --data=* | --dat=* \
  | --da=*)
    datadir="$ac_optarg" ;;

  -disable-* | --disable-*)
    ac_feature=`echo $ac_option|sed -e 's/-*disable-//'`
    # Reject names that are not valid shell variable names.
    if test -n "`echo $ac_feature| sed 's/[-a-zA-Z0-9_]//g'`"; then
      { echo "configure: error: $ac_feature: invalid feature name" 1>&2; exit 1; }
    fi
    ac_feature=`echo $ac_feature| sed 's/-/_/g'`
    eval "enable_${ac_feature}=no" ;;

  -enable-* | --enable-*)
    ac_feature=`echo $ac_option|sed -e 's/-*enable-//' -e 's/=.*//'`
    # Reject names that are not valid shell variable names.
    if test -n "`echo $ac_feature| sed 's/[-_a-zA-Z0-9]//g'`"; then
      { echo "configure: error: $ac_feature: invalid feature name" 1>&2; exit 1; }
    fi
    ac_feature=`echo $ac_feature| sed 's/-/_/g'`
    case "$ac_option" in
      *=*) ;;
      *) ac_optarg=yes ;;
    esac
    eval "enable_${ac_feature}='$ac_optarg'" ;;

  -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \
  | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \
  | --exec | --exe | --ex)
    ac_prev=exec_prefix ;;
  -exec-prefix=* | --exec_prefix=* | --exec-prefix=* | --exec-prefi=* \
  | --exec-pref=* | --exec-pre=* | --exec-pr=* | --exec-p=* | --exec-=* \
  | --exec=* | --exe=* | --ex=*)
    exec_prefix="$ac_optarg" ;;

  -gas | --gas | --ga | --g)
    # Obsolete; use --with-gas.
    with_gas=yes ;;

  -help | --help | --hel | --he)
    # Omit some internal or obsolete options to make the list less imposing.
    # This message is too long to be a string in the A/UX 3.1 sh.
    cat << EOF
Usage: configure [options] [host]
Options: [defaults in brackets after descriptions]
Configuration:
  --cache-file=FILE       cache test results in FILE
  --help                  print this message
  --no-create             do not create output files
  --quiet, --silent       do not print \`checking...' messages
  --version               print the version of autoconf that created configure
Directory and file names:
  --prefix=PREFIX         install architecture-independent files in PREFIX
                          [$ac_default_prefix]
  --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
                          [same as prefix]
  --bindir=DIR            user executables in DIR [EPREFIX/bin]
  --sbindir=DIR           system admin executables in DIR [EPREFIX/sbin]
  --libexecdir=DIR        program executables in DIR [EPREFIX/libexec]
  --datadir=DIR           read-only architecture-independent data in DIR
                          [PREFIX/share]
  --sysconfdir=DIR        read-only single-machine data in DIR [PREFIX/etc]
  --sharedstatedir=DIR    modifiable architecture-independent data in DIR
                          [PREFIX/com]
  --localstatedir=DIR     modifiable single-machine data in DIR [PREFIX/var]
  --libdir=DIR            object code libraries in DIR [EPREFIX/lib]
  --includedir=DIR        C header files in DIR [PREFIX/include]
  --oldincludedir=DIR     C header files for non-gcc in DIR [/usr/include]
  --infodir=DIR           info documentation in DIR [PREFIX/info]
  --mandir=DIR            man documentation in DIR [PREFIX/man]
  --srcdir=DIR            find the sources in DIR [configure dir or ..]
  --program-prefix=PREFIX prepend PREFIX to installed program names
  --program-suffix=SUFFIX append SUFFIX to installed program names
  --program-transform-name=PROGRAM
                          run sed PROGRAM on installed program names
EOF
    cat << EOF
Host type:
  --build=BUILD           configure for building on BUILD [BUILD=HOST]
  --host=HOST             configure for HOST [guessed]
  --target=TARGET         configure for TARGET [TARGET=HOST]
Features and packages:
  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
  --x-includes=DIR        X include files are in DIR
  --x-libraries=DIR       X library files are in DIR
EOF
    if test -n "$ac_help"; then
      echo "--enable and --with options recognized:$ac_help"
    fi
    exit 0 ;;

  -host | --host | --hos | --ho)
    ac_prev=host ;;
  -host=* | --host=* | --hos=* | --ho=*)
    host="$ac_optarg" ;;

  -includedir | --includedir | --includedi | --included | --include \
  | --includ | --inclu | --incl | --inc)
    ac_prev=includedir ;;
  -includedir=* | --includedir=* | --includedi=* | --included=* | --include=* \
  | --includ=* | --inclu=* | --incl=* | --inc=*)
    includedir="$ac_optarg" ;;

  -infodir | --infodir | --infodi | --infod | --info | --inf)
    ac_prev=infodir ;;
  -infodir=* | --infodir=* | --infodi=* | --infod=* | --info=* | --inf=*)
    infodir="$ac_optarg" ;;

  -libdir | --libdir | --libdi | --libd)
    ac_prev=libdir ;;
  -libdir=* | --libdir=* | --libdi=* | --libd=*)
    libdir="$ac_optarg" ;;

  -libexecdir | --libexecdir | --libexecdi | --libexecd | --libexec \
  | --libexe | --libex | --libe)
    ac_prev=libexecdir ;;
  -libexecdir=* | --libexecdir=* | --libexecdi=* | --libexecd=* | --libexec=* \
  | --libexe=* | --libex=* | --libe=*)
    libexecdir="$ac_optarg" ;;

  -localstatedir | --localstatedir | --localstatedi | --localstated \
  | --localstate | --localstat | --localsta | --localst \
  | --locals | --local | --loca | --loc | --lo)
    ac_prev=localstatedir ;;
  -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \
  | --localstate=* | --localstat=* | --localsta=* | --localst=* \
  | --locals=* | --local=* | --loca=* | --loc=* | --lo=*)
    localstatedir="$ac_optarg" ;;

  -mandir | --mandir | --mandi | --mand | --man | --ma | --m)
    ac_prev=mandir ;;
  -mandir=* | --mandir=* | --mandi=* | --mand=* | --man=* | --ma=* | --m=*)
    mandir="$ac_optarg" ;;

  -nfp | --nfp | --nf)
    # Obsolete; use --without-fp.
    with_fp=no ;;

  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
  | --no-cr | --no-c)
    no_create=yes ;;

  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r)
    no_recursion=yes ;;

  -oldincludedir | --oldincludedir | --oldincludedi | --oldincluded \
  | --oldinclude | --oldinclud | --oldinclu | --oldincl | --oldinc \
  | --oldin | --oldi | --old | --ol | --o)
    ac_prev=oldincludedir ;;
  -oldincludedir=* | --oldincludedir=* | --oldincludedi=* | --oldincluded=* \
  | --oldinclude=* | --oldinclud=* | --oldinclu=* | --oldincl=* | --oldinc=* \
  | --oldin=* | --oldi=* | --old=* | --ol=* | --o=*)
    oldincludedir="$ac_optarg" ;;

  -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)
    ac_prev=prefix ;;
  -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)
    prefix="$ac_optarg" ;;

  -program-prefix | --program-prefix | --program-prefi | --program-pref \
  | --program-pre | --program-pr | --program-p)
    ac_prev=program_prefix ;;
  -program-prefix=* | --program-prefix=* | --program-prefi=* \
  | --program-pref=* | --program-pre=* | --program-pr=* | --program-p=*)
    program_prefix="$ac_optarg" ;;

  -program-suffix | --program-suffix | --program-suffi | --program-suff \
  | --program-suf | --program-su | --program-s)
    ac_prev=program_suffix ;;
  -program-suffix=* | --program-suffix=* | --program-suffi=* \
  | --program-suff=* | --program-suf=* | --program-su=* | --program-s=*)
    program_suffix="$ac_optarg" ;;

  -program-transform-name | --program-transform-name \
  | --program-transform-nam | --program-transform-na \
  | --program-transform-n | --program-transform- \
  | --program-transform | --program-transfor \
  | --program-transfo | --program-transf \
  | --program-trans | --program-tran \
  | --progr-tra | --program-tr | --program-t)
    ac_prev=program_transform_name ;;
  -program-transform-name=* | --program-transform-name=* \
  | --program-transform-nam=* | --program-transform-na=* \
  | --program-transform-n=* | --program-transform-=* \
  | --program-transform=* | --program-transfor=* \
  | --program-transfo=* | --program-transf=* \
  | --program-trans=* | --program-tran=* \
  | --progr-tra=* | --program-tr=* | --program-t=*)
    program_transform_name="$ac_optarg" ;;

  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
  | -silent | --silent | --silen | --sile | --sil)
    silent=yes ;;

  -sbindir | --sbindir | --sbindi | --sbind | --sbin | --sbi | --sb)
    ac_prev=sbindir ;;
  -sbindir=* | --sbindir=* | --sbindi=* | --sbind=* | --sbin=* \
  | --sbi=* | --sb=*)
    sbindir="$ac_optarg" ;;

  -sharedstatedir | --sharedstatedir | --sharedstatedi \
  | --sharedstated | --sharedstate | --sharedstat | --sharedsta \
  | --sharedst | --shareds | --shared | --share | --shar \
  | --sha | --sh)
    ac_prev=sharedstatedir ;;
  -sharedstatedir=* | --sharedstatedir=* | --sharedstatedi=* \
  | --sharedstated=* | --sharedstate=* | --sharedstat=* | --sharedsta=* \
  | --sharedst=* | --shareds=* | --shared=* | --share=* | --shar=* \
  | --sha=* | --sh=*)
    sharedstatedir="$ac_optarg" ;;

  -site | --site | --sit)
    ac_prev=site ;;
  -site=* | --site=* | --sit=*)
    site="$ac_optarg" ;;

  -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)
    ac_prev=srcdir ;;
  -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)
    srcdir="$ac_optarg" ;;

  -sysconfdir | --sysconfdir | --sysconfdi | --sysconfd | --sysconf \
  | --syscon | --sysco | --sysc | --sys | --sy)
    ac_prev=sysconfdir ;;
  -sysconfdir=* | --sysconfdir=* | --sysconfdi=* | --sysconfd=* | --sysconf=* \
  | --syscon=* | --sysco=* | --sysc=* | --sys=* | --sy=*)
    sysconfdir="$ac_optarg" ;;

  -target | --target | --targe | --targ | --tar | --ta | --t)
    ac_prev=target ;;
  -target=* | --target=* | --targe=* | --targ=* | --tar=* | --ta=* | --t=*)
    target="$ac_optarg" ;;

  -v | -verbose | --verbose | --verbos | --verbo | --verb)
    verbose=yes ;;

  -version | --version | --versio | --versi | --vers)
    echo "configure generated by autoconf version 2.13"
    exit 0 ;;

  -with-* | --with-*)
    ac_package=`echo $ac_option|sed -e 's/-*with-//' -e 's/=.*//'`
    # Reject names that are not valid shell variable names.
    if test -n "`echo $ac_package| sed 's/[-_a-zA-Z0-9]//g'`"; then
      { echo "configure: error: $ac_package: invalid package name" 1>&2; exit 1; }
    fi
    ac_package=`echo $ac_package| sed 's/-/_/g'`
    case "$ac_option" in
      *=*) ;;
      *) ac_optarg=yes ;;
    esac
    eval "with_${ac_package}='$ac_optarg'" ;;

  -without-* | --without-*)
    ac_package=`echo $ac_option|sed -e 's/-*without-//'`
    # Reject names that are not valid shell variable names.
    if test -n "`echo $ac_package| sed 's/[-a-zA-Z0-9_]//g'`"; then
      { echo "configure: error: $ac_package: invalid package name" 1>&2; exit 1; }
    fi
    ac_package=`echo $ac_package| sed 's/-/_/g'`
    eval "with_${ac_package}=no" ;;

  --x)
    # Obsolete; use --with-x.
    with_x=yes ;;

  -x-includes | --x-includes | --x-include | --x-includ | --x-inclu \
  | --x-incl | --x-inc | --x-in | --x-i)
    ac_prev=x_includes ;;
  -x-includes=* | --x-includes=* | --x-include=* | --x-includ=* | --x-inclu=* \
  | --x-incl=* | --x-inc=* | --x-in=* | --x-i=*)
    x_includes="$ac_optarg" ;;

  -x-libraries | --x-libraries | --x-librarie | --x-librari \
  | --x-librar | --x-libra | --x-libr | --x-lib | --x-li | --x-l)
    ac_prev=x_libraries ;;
  -x-libraries=* | --x-libraries=* | --x-librarie=* | --x-librari=* \
  | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
    x_libraries="$ac_optarg" ;;

  -*) { echo "configure: error: $ac_option: invalid option; use --help to show usage" 1>&2; exit 1; }
    ;;

  *)
    if test -n "`echo $ac_option| sed 's/[-a-z0-9.]//g'`"; then
      echo "configure: warning: $ac_option: invalid host type" 1>&2
    fi
    if test "x$nonopt" != xNONE; then
      { echo "configure: error: can only configure for one host and one target at a time" 1>&2; exit 1; }
    fi
    nonopt="$ac_option"
    ;;

  esac
done

if test -n "$ac_prev"; then
  { echo "configure: error: missing argument to --`echo $ac_prev | sed 's/_/-/g'`" 1>&2; exit 1; }
fi

trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15

# File descriptor usage:
# 0 standard input
# 1 file creation
# 2 errors and warnings
# 3 some systems may open it to /dev/tty
# 4 used on the Kubota Titan
# 6 checking for... messages and results
# 5 compiler messages saved in config.log
if test "$silent" = yes; then
  exec 6>/dev/null
else
  exec 6>&1
fi
exec 5>./config.log

echo "\
This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.
" 1>&5

# Strip out --no-create and --no-recursion so they do not pile up.
# Also quote any args containing shell metacharacters.
ac_configure_args=
for ac_arg
do
  case "$ac_arg" in
  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
  | --no-cr | --no-c) ;;
  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r) ;;
  *" "*|*"	"*|*[\[\]\~\#\$\^\&\*\(\)\{\}\\\|\;\<\>\?]*)
  ac_configure_args="$ac_configure_args '$ac_arg'" ;;
  *) ac_configure_args="$ac_configure_args $ac_arg" ;;
  esac
done

# NLS nuisances.
# Only set these to C if already set.  These must not be set unconditionally
# because not all systems understand e.g. LANG=C (notably SCO).
# Fixing LC_MESSAGES prevents Solaris sh from translating var values in `set'!
# Non-C LC_CTYPE values break the ctype check.
if test "${LANG+set}"   = set; then LANG=C;   export LANG;   fi
if test "${LC_ALL+set}" = set; then LC_ALL=C; export LC_ALL; fi
if test "${LC_MESSAGES+set}" = set; then LC_MESSAGES=C; export LC_MESSAGES; fi
if test "${LC_CTYPE+set}"    = set; then LC_CTYPE=C;    export LC_CTYPE;    fi

# confdefs.h avoids OS command line length limits that DEFS can exceed.
rm -rf conftest* confdefs.h
# AIX cpp loses on an empty file, so make sure it contains at least a newline.
echo > confdefs.h

# A filename unique to this package, relative to the directory that
# configure is in, which we can look for to find out if srcdir is correct.
ac_unique_file=prolang.y

# Find the source files, if location was not specified.
if test -z "$srcdir"; then
  ac_srcdir_defaulted=yes
  # Try the directory containing this script, then its parent.
  ac_prog=$0
  ac_confdir=`echo $ac_prog|sed 's%/[^/][^/]*$%%'`
  test "x$ac_confdir" = "x$ac_prog" && ac_confdir=.
  srcdir=$ac_confdir
  if test ! -r $srcdir/$ac_unique_file; then
    srcdir=..
  fi
else
  ac_srcdir_defaulted=no
fi
if test ! -r $srcdir/$ac_unique_file; then
  if test "$ac_srcdir_defaulted" = yes; then
    { echo "configure: error: can not find sources in $ac_confdir or .." 1>&2; exit 1; }
  else
    { echo "configure: error: can not find sources in $srcdir" 1>&2; exit 1; }
  fi
fi
srcdir=`echo "${srcdir}" | sed 's%\([^/]\)/*$%\1%'`

# Prefer explicitly selected file to automatically selected ones.
if test -z "$CONFIG_SITE"; then
  if test "x$prefix" != xNONE; then
    CONFIG_SITE="$prefix/share/config.site $prefix/etc/config.site"
  else
    CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site"
  fi
fi
for ac_site_file in $CONFIG_SITE; do
  if test -r "$ac_site_file"; then
    echo "loading site script $ac_site_file"
    . "$ac_site_file"
  fi
done

if test -r "$cache_file"; then
  echo "loading cache $cache_file"
  . $cache_file
else
  echo "creating cache $cache_file"
  > $cache_file
fi

ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross

ac_exeext=
ac_objext=o
if (echo "testing\c"; echo 1,2,3) | grep c >/dev/null; then
  # Stardent Vistra SVR4 grep lacks -e, says ghazi@caip.rutgers.edu.
  if (echo -n testing; echo 1,2,3) | sed s/-n/xn/ | grep xn >/dev/null; then
    ac_n= ac_c='
' ac_t='	'
  else
    ac_n=-n ac_c= ac_t=
  fi
else
  ac_n= ac_c='\c' ac_t=
fi






DEFAULTenable_erq=erq
# Check whether --enable-erq or --disable-erq was given.
if test "${enable_erq+set}" = set; then
  enableval="$enable_erq"
  :
fi


DEFAULTenable_access_control=yes
# Check whether --enable-access-control or --disable-access-control was given.
if test "${enable_access_control+set}" = set; then
  enableval="$enable_access_control"
  :
fi


DEFAULTenable_access_log=no
# Check whether --enable-access-log or --disable-access-log was given.
if test "${enable_access_log+set}" = set; then
  enableval="$enable_access_log"
  :
fi


DEFAULTenable_align_functions=yes
# Check whether --enable-align-functions or --disable-align-functions was given.
if test "${enable_align_functions+set}" = set; then
  enableval="$enable_align_functions"
  :
fi


DEFAULTenable_compat_mode=no
# Check whether --enable-compat-mode or --disable-compat-mode was given.
if test "${enable_compat_mode+set}" = set; then
  enableval="$enable_compat_mode"
  :
fi


DEFAULTenable_strict_euids=no
# Check whether --enable-strict-euids or --disable-strict-euids was given.
if test "${enable_strict_euids+set}" = set; then
  enableval="$enable_strict_euids"
  :
fi


DEFAULTenable_supply_parse_command=yes
# Check whether --enable-supply-parse-command or --disable-supply-parse-command was given.
if test "${enable_supply_parse_command+set}" = set; then
  enableval="$enable_supply_parse_command"
  :
fi


DEFAULTenable_initialization_by___init=yes
# Check whether --enable-initialization-by-__init or --disable-initialization-by-__init was given.
if test "${enable_initialization_by___init+set}" = set; then
  enableval="$enable_initialization_by___init"
  :
fi


DEFAULTenable_use_system_crypt=yes
# Check whether --enable-use-system-crypt or --disable-use-system-crypt was given.
if test "${enable_use_system_crypt+set}" = set; then
  enableval="$enable_use_system_crypt"
  :
fi


DEFAULTenable_udp_send=yes
# Check whether --enable-udp-send or --disable-udp-send was given.
if test "${enable_udp_send+set}" = set; then
  enableval="$enable_udp_send"
  :
fi


DEFAULTenable_use_ipv6=no
# Check whether --enable-use-ipv6 or --disable-use-ipv6 was given.
if test "${enable_use_ipv6+set}" = set; then
  enableval="$enable_use_ipv6"
  :
fi


DEFAULTenable_use_mysql=no
# Check whether --enable-use-mysql or --disable-use-mysql was given.
if test "${enable_use_mysql+set}" = set; then
  enableval="$enable_use_mysql"
  :
fi


DEFAULTenable_lpc_nosave=yes
# Check whether --enable-lpc-nosave or --disable-lpc-nosave was given.
if test "${enable_lpc_nosave+set}" = set; then
  enableval="$enable_lpc_nosave"
  :
fi


DEFAULTenable_comm_stat=yes
# Check whether --enable-comm-stat or --disable-comm-stat was given.
if test "${enable_comm_stat+set}" = set; then
  enableval="$enable_comm_stat"
  :
fi


DEFAULTenable_apply_cache_stat=yes
# Check whether --enable-apply-cache_stat or --disable-apply-cache_stat was given.
if test "${enable_apply_cache_stat+set}" = set; then
  enableval="$enable_apply_cache_stat"
  :
fi


DEFAULTenable_malloc_trace=no
# Check whether --enable-malloc-trace or --disable-malloc-trace was given.
if test "${enable_malloc_trace+set}" = set; then
  enableval="$enable_malloc_trace"
  :
fi


DEFAULTenable_malloc_lpc_trace=no
# Check whether --enable-malloc-lpc-trace or --disable-malloc-lpc-trace was given.
if test "${enable_malloc_lpc_trace+set}" = set; then
  enableval="$enable_malloc_lpc_trace"
  :
fi


DEFAULTenable_max_malloced=yes
# Check whether --enable-max-malloced or --disable-max-malloced was given.
if test "${enable_max_malloced+set}" = set; then
  enableval="$enable_max_malloced"
  :
fi


DEFAULTenable_min_malloced=no
# Check whether --enable-min-malloced or --disable-min-malloced was given.
if test "${enable_min_malloced+set}" = set; then
  enableval="$enable_min_malloced"
  :
fi


DEFAULTenable_dynamic_costs=no
# Check whether --enable-dynamic-costs or --disable-dynamic-costs was given.
if test "${enable_dynamic_costs+set}" = set; then
  enableval="$enable_dynamic_costs"
  :
fi



DEFAULTenable_catch_udp_port=yes
# Check whether --enable-catch-udp-port or --disable-catch-udp-port was given.
if test "${enable_catch_udp_port+set}" = set; then
  enableval="$enable_catch_udp_port"
  :
fi


DEFAULTenable_rxcache_table=yes
# Check whether --enable-rxcache_table or --disable-rxcache_table was given.
if test "${enable_rxcache_table+set}" = set; then
  enableval="$enable_rxcache_table"
  :
fi



DEFAULTwith_access_file=ACCESS.ALLOW
# Check whether --with-access-file or --without-access-file was given.
if test "${with_access_file+set}" = set; then
  withval="$with_access_file"
  :
fi


DEFAULTwith_access_log=access.allow.log
# Check whether --with-access-log or --without-access-log was given.
if test "${with_access_log+set}" = set; then
  withval="$with_access_log"
  :
fi



DEFAULTwith_erq_max_reply=1024
# Check whether --with-erq-max-reply or --without-erq-max-reply was given.
if test "${with_erq_max_reply+set}" = set; then
  withval="$with_erq_max_reply"
  :
fi


DEFAULTwith_erq_max_send=1024
# Check whether --with-erq-max-send or --without-erq-max-send was given.
if test "${with_erq_max_send+set}" = set; then
  withval="$with_erq_max_send"
  :
fi



DEFAULTwith_read_file_max_size=50000
# Check whether --with-read-file-max-size or --without-read-file-max-size was given.
if test "${with_read_file_max_size+set}" = set; then
  withval="$with_read_file_max_size"
  :
fi



DEFAULTwith_master_name=secure/master
# Check whether --with-master-name or --without-master-name was given.
if test "${with_master_name+set}" = set; then
  withval="$with_master_name"
  :
fi


DEFAULTwith_time_to_clean_up=3600
# Check whether --with-time-to-clean_up or --without-time-to-clean_up was given.
if test "${with_time_to_clean_up+set}" = set; then
  withval="$with_time_to_clean_up"
  :
fi


DEFAULTwith_time_to_swap=900
# Check whether --with-time-to-swap or --without-time-to-swap was given.
if test "${with_time_to_swap+set}" = set; then
  withval="$with_time_to_swap"
  :
fi


DEFAULTwith_time_to_swap_variables=1800
# Check whether --with-time-to-swap-variables or --without-time-to-swap-variables was given.
if test "${with_time_to_swap_variables+set}" = set; then
  withval="$with_time_to_swap_variables"
  :
fi


DEFAULTwith_time_to_reset=1800
# Check whether --with-time-to-reset or --without-time-to-reset was given.
if test "${with_time_to_reset+set}" = set; then
  withval="$with_time_to_reset"
  :
fi


DEFAULTwith_evaluator_stack_size=2000
# Check whether --with-evaluator-stack-size or --without-evaluator-stack-size was given.
if test "${with_evaluator_stack_size+set}" = set; then
  withval="$with_evaluator_stack_size"
  :
fi


DEFAULTwith_max_user_trace=60
# Check whether --with-max-user-trace or --without-max-user-trace was given.
if test "${with_max_user_trace+set}" = set; then
  withval="$with_max_user_trace"
  :
fi


DEFAULTwith_max_trace=65
# Check whether --with-max-trace or --without-max-trace was given.
if test "${with_max_trace+set}" = set; then
  withval="$with_max_trace"
  :
fi


DEFAULTwith_compiler_stack_size=400
# Check whether --with-compiler-stack-size or --without-compiler-stack-size was given.
if test "${with_compiler_stack_size+set}" = set; then
  withval="$with_compiler_stack_size"
  :
fi


DEFAULTwith_max_bits=6144
# Check whether --with-max-bits or --without-max-bits was given.
if test "${with_max_bits+set}" = set; then
  withval="$with_max_bits"
  :
fi


DEFAULTwith_portno=4242
# Check whether --with-portno or --without-portno was given.
if test "${with_portno+set}" = set; then
  withval="$with_portno"
  :
fi


DEFAULTwith_maxnumports=20
# Check whether --with-maxnumports or --without-maxnumports was given.
if test "${with_maxnumports+set}" = set; then
  withval="$with_maxnumports"
  :
fi


DEFAULTwith_max_cost=1000000
# Check whether --with-max-cost or --without-max-cost was given.
if test "${with_max_cost+set}" = set; then
  withval="$with_max_cost"
  :
fi


DEFAULTwith_catch_reserved_cost=2000
# Check whether --with-catch-reserved-cost or --without-catch-reserved-cost was given.
if test "${with_catch_reserved_cost+set}" = set; then
  withval="$with_catch_reserved_cost"
  :
fi


DEFAULTwith_master_reserved_cost=0x200
# Check whether --with-master-reserved-cost or --without-master-reserved-cost was given.
if test "${with_master_reserved_cost+set}" = set; then
  withval="$with_master_reserved_cost"
  :
fi


DEFAULTwith_swap_file=LP_SWAP.3
# Check whether --with-swap-file or --without-swap-file was given.
if test "${with_swap_file+set}" = set; then
  withval="$with_swap_file"
  :
fi


DEFAULTwith_max_array_size=3000
# Check whether --with-max-array-size or --without-max-array-size was given.
if test "${with_max_array_size+set}" = set; then
  withval="$with_max_array_size"
  :
fi


DEFAULTwith_max_mapping_size=5000
# Check whether --with-max-mapping-size or --without-max-mapping-size was given.
if test "${with_max_mapping_size+set}" = set; then
  withval="$with_max_mapping_size"
  :
fi


DEFAULTwith_max_players=50
# Check whether --with-max-players or --without-max-players was given.
if test "${with_max_players+set}" = set; then
  withval="$with_max_players"
  :
fi


DEFAULTwith_max_local=50
# Check whether --with-max-local or --without-max-local was given.
if test "${with_max_local+set}" = set; then
  withval="$with_max_local"
  :
fi


DEFAULTwith_allowed_ed_cmds=20
# Check whether --with-allowed-ed-cmds or --without-allowed-ed-cmds was given.
if test "${with_allowed_ed_cmds+set}" = set; then
  withval="$with_allowed_ed_cmds"
  :
fi


DEFAULTwith_reserved_user_size=700000
# Check whether --with-reserved-user-size or --without-reserved-user-size was given.
if test "${with_reserved_user_size+set}" = set; then
  withval="$with_reserved_user_size"
  :
fi


DEFAULTwith_reserved_master_size=100000
# Check whether --with-reserved-master-size or --without-reserved-master-size was given.
if test "${with_reserved_master_size+set}" = set; then
  withval="$with_reserved_master_size"
  :
fi


DEFAULTwith_reserved_system_size=200000
# Check whether --with-reserved-system-size or --without-reserved-system-size was given.
if test "${with_reserved_system_size+set}" = set; then
  withval="$with_reserved_system_size"
  :
fi


DEFAULTwith_htable_size=4096
# Check whether --with-htable-size or --without-htable-size was given.
if test "${with_htable_size+set}" = set; then
  withval="$with_htable_size"
  :
fi


DEFAULTwith_itable_size=256
# Check whether --with-itable-size or --without-itable-size was given.
if test "${with_itable_size+set}" = set; then
  withval="$with_itable_size"
  :
fi


DEFAULTwith_otable_size=1024
# Check whether --with-otable-size or --without-otable-size was given.
if test "${with_otable_size+set}" = set; then
  withval="$with_otable_size"
  :
fi


DEFAULTwith_defmax=65000
# Check whether --with-defmax or --without-defmax was given.
if test "${with_defmax+set}" = set; then
  withval="$with_defmax"
  :
fi


DEFAULTwith_apply_cache_bits=12
# Check whether --with-apply-cache-bits or --without-apply-cache-bits was given.
if test "${with_apply_cache_bits+set}" = set; then
  withval="$with_apply_cache_bits"
  :
fi


DEFAULTwith_rxcache_table=16384
# Check whether --with-rxcache-table or --without-rxcache-table was given.
if test "${with_rxcache_table+set}" = set; then
  withval="$with_rxcache_table"
  :
fi


DEFAULTwith_max_byte_transfer=50000
# Check whether --with-max-byte-transfer or --without-max-byte-transfer was given.
if test "${with_max_byte_transfer+set}" = set; then
  withval="$with_max_byte_transfer"
  :
fi


DEFAULTwith_catch_udp_port=4246
# Check whether --with-catch-udp-port or --without-catch-udp-port was given.
if test "${with_catch_udp_port+set}" = set; then
  withval="$with_catch_udp_port"
  :
fi


DEFAULTwith_set_buffer_size_max=65536
# Check whether --with-set-buffer-size-max or --without-set-buffer-size-max was given.
if test "${with_set_buffer_size_max+set}" = set; then
  withval="$with_set_buffer_size_max"
  :
fi


DEFAULTwith_malloc=smalloc
# Check whether --with-malloc or --without-malloc was given.
if test "${with_malloc+set}" = set; then
  withval="$with_malloc"
  :
fi


DEFAULTwith_min_malloced=0x1000000
# Check whether --with-min-malloced or --without-min-malloced was given.
if test "${with_min_malloced+set}" = set; then
  withval="$with_min_malloced"
  :
fi


DEFAULTwith_max_malloced=0x4000000
# Check whether --with-max-malloced or --without-max-malloced was given.
if test "${with_max_malloced+set}" = set; then
  withval="$with_max_malloced"
  :
fi


DEFAULTwith_total_trace_length=0x1000
# Check whether --with-total-trace-length or --without-total-trace-length was given.
if test "${with_total_trace_length+set}" = set; then
  withval="$with_total_trace_length"
  :
fi



# Check whether --with-setting or --without-setting was given.
if test "${with_setting+set}" = set; then
  withval="$with_setting"
  
if test -f "settings/$withval" ; then
cat >conftest.sed <<\EOF
/^#.*/ d
/^[ \t]*$/ d
s/disable_\([^= \t]*\)/enable_\1=no/
/^enable_/ s/^/DEFAULT/p
/^with_/ s/^/DEFAULT/p

EOF
eval `sed -n -f conftest.sed <settings/$withval`
rm conftest.sed
else
{ echo "configure: error: Setting \"$withval\" not available" 1>&2; exit 1; }
fi

fi



if test "x$enable_erq" = "x" && test "x$DEFAULTenable_erq" != "x"; then
  enable_erq=$DEFAULTenable_erq
fi

if test "x$enable_erq" = "xerq" || test "x$enable_erq" = "xyes"; then
  cdef_erq_demon="#define"
  erq_sub=erq
  cat >> confdefs.h <<\EOF
#define ERQ_INCLUDE "util/erq/erq.h"
EOF

elif test "x$enable_erq" = "xxerq"; then
  cdef_erq_demon="#define"
  erq_sub=xerq
  cat >> confdefs.h <<\EOF
#define ERQ_INCLUDE "util/xerq/erq.h"
EOF

else
  cdef_erq_demon="#undef"
  erq_sub=
fi

if test "x$enable_access_control" = "x" && test "x$DEFAULTenable_access_control" != "x"; then
  enable_access_control=$DEFAULTenable_access_control
fi

if test "x$enable_access_control" = "xyes"; then
  cdef_access_control="#define"
else
  cdef_access_control="#undef"
fi

if test "x$enable_access_log" = "x" && test "x$DEFAULTenable_access_log" != "x"; then
  enable_access_log=$DEFAULTenable_access_log
fi

if test "x$enable_access_log" = "xyes"; then
  cdef_access_log="#define"
else
  cdef_access_log="#undef"
fi

if test "x$enable_align_functions" = "x" && test "x$DEFAULTenable_align_functions" != "x"; then
  enable_align_functions=$DEFAULTenable_align_functions
fi

if test "x$enable_align_functions" = "xyes"; then
  cdef_align_functions="#define"
else
  cdef_align_functions="#undef"
fi

if test "x$enable_compat_mode" = "x" && test "x$DEFAULTenable_compat_mode" != "x"; then
  enable_compat_mode=$DEFAULTenable_compat_mode
fi

if test "x$enable_compat_mode" = "xyes"; then
  cdef_compat_mode="#define"
else
  cdef_compat_mode="#undef"
fi

if test "x$enable_strict_euids" = "x" && test "x$DEFAULTenable_strict_euids" != "x"; then
  enable_strict_euids=$DEFAULTenable_strict_euids
fi

if test "x$enable_strict_euids" = "xyes"; then
  cdef_strict_euids="#define"
else
  cdef_strict_euids="#undef"
fi

if test "x$enable_supply_parse_command" = "x" && test "x$DEFAULTenable_supply_parse_command" != "x"; then
  enable_supply_parse_command=$DEFAULTenable_supply_parse_command
fi

if test "x$enable_supply_parse_command" = "xyes"; then
  cdef_supply_parse_command="#define"
else
  cdef_supply_parse_command="#undef"
fi

if test "x$enable_initialization_by___init" = "x" && test "x$DEFAULTenable_initialization_by___init" != "x"; then
  enable_initialization_by___init=$DEFAULTenable_initialization_by___init
fi

if test "x$enable_initialization_by___init" = "xyes"; then
  cdef_initialization_by___init="#define"
else
  cdef_initialization_by___init="#undef"
fi

if test "x$enable_use_system_crypt" = "x" && test "x$DEFAULTenable_use_system_crypt" != "x"; then
  enable_use_system_crypt=$DEFAULTenable_use_system_crypt
fi

if test "x$enable_use_system_crypt" = "xyes"; then
  cdef_use_system_crypt="#define"
else
  cdef_use_system_crypt="#undef"
fi

if test "x$enable_udp_send" = "x" && test "x$DEFAULTenable_udp_send" != "x"; then
  enable_udp_send=$DEFAULTenable_udp_send
fi

if test "x$enable_udp_send" = "xyes"; then
  cdef_udp_send="#define"
else
  cdef_udp_send="#undef"
fi

if test "x$enable_use_ipv6" = "x" && test "x$DEFAULTenable_use_ipv6" != "x"; then
  enable_use_ipv6=$DEFAULTenable_use_ipv6
fi

if test "x$enable_use_ipv6" = "xyes"; then
  cdef_use_ipv6="#define"
else
  cdef_use_ipv6="#undef"
fi

if test "x$enable_use_mysql" = "x" && test "x$DEFAULTenable_use_mysql" != "x"; then
  enable_use_mysql=$DEFAULTenable_use_mysql
fi

if test "x$enable_use_mysql" = "xyes"; then
  cdef_use_mysql="#define"
else
  cdef_use_mysql="#undef"
fi

if test "x$enable_lpc_nosave" = "x" && test "x$DEFAULTenable_lpc_nosave" != "x"; then
  enable_lpc_nosave=$DEFAULTenable_lpc_nosave
fi

if test "x$enable_lpc_nosave" = "xyes"; then
  cdef_lpc_nosave="#define"
else
  cdef_lpc_nosave="#undef"
fi

if test "x$enable_comm_stat" = "x" && test "x$DEFAULTenable_comm_stat" != "x"; then
  enable_comm_stat=$DEFAULTenable_comm_stat
fi

if test "x$enable_comm_stat" = "xyes"; then
  cdef_comm_stat="#define"
else
  cdef_comm_stat="#undef"
fi

if test "x$enable_apply_cache_stat" = "x" && test "x$DEFAULTenable_apply_cache_stat" != "x"; then
  enable_apply_cache_stat=$DEFAULTenable_apply_cache_stat
fi

if test "x$enable_apply_cache_stat" = "xyes"; then
  cdef_apply_cache_stat="#define"
else
  cdef_apply_cache_stat="#undef"
fi

if test "x$enable_malloc_trace" = "x" && test "x$DEFAULTenable_malloc_trace" != "x"; then
  enable_malloc_trace=$DEFAULTenable_malloc_trace
fi

if test "x$enable_malloc_trace" = "xyes"; then
  cdef_malloc_trace="#define"
else
  cdef_malloc_trace="#undef"
fi

if test "x$enable_malloc_lpc_trace" = "x" && test "x$DEFAULTenable_malloc_lpc_trace" != "x"; then
  enable_malloc_lpc_trace=$DEFAULTenable_malloc_lpc_trace
fi

if test "x$enable_malloc_lpc_trace" = "xyes"; then
  cdef_malloc_lpc_trace="#define"
else
  cdef_malloc_lpc_trace="#undef"
fi

if test "x$enable_max_malloced" = "x" && test "x$DEFAULTenable_max_malloced" != "x"; then
  enable_max_malloced=$DEFAULTenable_max_malloced
fi

if test "x$enable_max_malloced" = "xyes"; then
  cdef_max_malloced="#define"
else
  cdef_max_malloced="#undef"
fi

if test "x$enable_min_malloced" = "x" && test "x$DEFAULTenable_min_malloced" != "x"; then
  enable_min_malloced=$DEFAULTenable_min_malloced
fi

if test "x$enable_min_malloced" = "xyes"; then
  cdef_min_malloced="#define"
else
  cdef_min_malloced="#undef"
fi

if test "x$enable_dynamic_costs" = "x" && test "x$DEFAULTenable_dynamic_costs" != "x"; then
  enable_dynamic_costs=$DEFAULTenable_dynamic_costs
fi

if test "x$enable_dynamic_costs" = "xyes"; then
  cdef_dynamic_costs="#define"
else
  cdef_dynamic_costs="#undef"
fi


if test "x$enable_catch_udp_port" = "x" && test "x$DEFAULTenable_catch_udp_port" != "x"; then
  enable_catch_udp_port=$DEFAULTenable_catch_udp_port
fi

if test "x$enable_catch_udp_port" = "xyes"; then
  cdef_catch_udp_port="#define"
else
  cdef_catch_udp_port="#undef"
fi

if test "x$enable_rxcache_table" = "x" && test "x$DEFAULTenable_rxcache_table" != "x"; then
  enable_rxcache_table=$DEFAULTenable_rxcache_table
fi

if test "x$enable_rxcache_table" = "xyes"; then
  cdef_rxcache_table="#define"
else
  cdef_rxcache_table="#undef"
fi


if test "x$with_access_file" != "x"; then
  with_access_file=`echo $with_access_file|
             sed -e 's/^\([^"]*\)\?.*$/\1/'`
fi
if test "x$with_access_file" = "x" && test "x$DEFAULTwith_access_file" != "x"; then
  with_access_file=$DEFAULTwith_access_file
fi

val_access_file="\"$with_access_file\""

if test "x$with_access_log" != "x"; then
  with_access_log=`echo $with_access_log|
             sed -e 's/^\([^"]*\)\?.*$/\1/'`
fi
if test "x$with_access_log" = "x" && test "x$DEFAULTwith_access_log" != "x"; then
  with_access_log=$DEFAULTwith_access_log
fi

val_access_log="\"$with_access_log\""

if test "x$with_swap_file" != "x"; then
  with_swap_file=`echo $with_swap_file|
             sed -e 's/^\([^"]*\)\?.*$/\1/'`
fi
if test "x$with_swap_file" = "x" && test "x$DEFAULTwith_swap_file" != "x"; then
  with_swap_file=$DEFAULTwith_swap_file
fi

val_swap_file="\"$with_swap_file\""

if test "x$with_master_name" != "x"; then
  with_master_name=`echo $with_master_name|
             sed -e 's/^\([^"]*\)\?.*$/\1/'`
fi
if test "x$with_master_name" = "x" && test "x$DEFAULTwith_master_name" != "x"; then
  with_master_name=$DEFAULTwith_master_name
fi

val_master_name="\"$with_master_name\""


if test "x$with_erq_max_reply" != "x"; then
  with_erq_max_reply=`echo $with_erq_max_reply|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_erq_max_reply" = "x" && test "x$DEFAULTwith_erq_max_reply" != "x"; then
  with_erq_max_reply=$DEFAULTwith_erq_max_reply
fi

val_erq_max_reply=$with_erq_max_reply

if test "x$with_erq_max_send" != "x"; then
  with_erq_max_send=`echo $with_erq_max_send|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_erq_max_send" = "x" && test "x$DEFAULTwith_erq_max_send" != "x"; then
  with_erq_max_send=$DEFAULTwith_erq_max_send
fi

val_erq_max_send=$with_erq_max_send

if test "x$with_read_file_max_size" != "x"; then
  with_read_file_max_size=`echo $with_read_file_max_size|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_read_file_max_size" = "x" && test "x$DEFAULTwith_read_file_max_size" != "x"; then
  with_read_file_max_size=$DEFAULTwith_read_file_max_size
fi

val_read_file_max_size=$with_read_file_max_size

if test "x$with_time_to_clean_up" != "x"; then
  with_time_to_clean_up=`echo $with_time_to_clean_up|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_time_to_clean_up" = "x" && test "x$DEFAULTwith_time_to_clean_up" != "x"; then
  with_time_to_clean_up=$DEFAULTwith_time_to_clean_up
fi

val_time_to_clean_up=$with_time_to_clean_up

if test "x$with_time_to_swap" != "x"; then
  with_time_to_swap=`echo $with_time_to_swap|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_time_to_swap" = "x" && test "x$DEFAULTwith_time_to_swap" != "x"; then
  with_time_to_swap=$DEFAULTwith_time_to_swap
fi

val_time_to_swap=$with_time_to_swap

if test "x$with_time_to_swap_variables" != "x"; then
  with_time_to_swap_variables=`echo $with_time_to_swap_variables|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_time_to_swap_variables" = "x" && test "x$DEFAULTwith_time_to_swap_variables" != "x"; then
  with_time_to_swap_variables=$DEFAULTwith_time_to_swap_variables
fi

val_time_to_swap_variables=$with_time_to_swap_variables

if test "x$with_time_to_reset" != "x"; then
  with_time_to_reset=`echo $with_time_to_reset|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_time_to_reset" = "x" && test "x$DEFAULTwith_time_to_reset" != "x"; then
  with_time_to_reset=$DEFAULTwith_time_to_reset
fi

val_time_to_reset=$with_time_to_reset

if test "x$with_evaluator_stack_size" != "x"; then
  with_evaluator_stack_size=`echo $with_evaluator_stack_size|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_evaluator_stack_size" = "x" && test "x$DEFAULTwith_evaluator_stack_size" != "x"; then
  with_evaluator_stack_size=$DEFAULTwith_evaluator_stack_size
fi

val_evaluator_stack_size=$with_evaluator_stack_size

if test "x$with_max_user_trace" != "x"; then
  with_max_user_trace=`echo $with_max_user_trace|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_max_user_trace" = "x" && test "x$DEFAULTwith_max_user_trace" != "x"; then
  with_max_user_trace=$DEFAULTwith_max_user_trace
fi

val_max_user_trace=$with_max_user_trace

if test "x$with_max_trace" != "x"; then
  with_max_trace=`echo $with_max_trace|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_max_trace" = "x" && test "x$DEFAULTwith_max_trace" != "x"; then
  with_max_trace=$DEFAULTwith_max_trace
fi

val_max_trace=$with_max_trace

if test "x$with_compiler_stack_size" != "x"; then
  with_compiler_stack_size=`echo $with_compiler_stack_size|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_compiler_stack_size" = "x" && test "x$DEFAULTwith_compiler_stack_size" != "x"; then
  with_compiler_stack_size=$DEFAULTwith_compiler_stack_size
fi

val_compiler_stack_size=$with_compiler_stack_size

if test "x$with_max_bits" != "x"; then
  with_max_bits=`echo $with_max_bits|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_max_bits" = "x" && test "x$DEFAULTwith_max_bits" != "x"; then
  with_max_bits=$DEFAULTwith_max_bits
fi

val_max_bits=$with_max_bits

if test "x$with_portno" != "x"; then
  with_portno=`echo $with_portno|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_portno" = "x" && test "x$DEFAULTwith_portno" != "x"; then
  with_portno=$DEFAULTwith_portno
fi

val_portno=$with_portno

if test "x$with_maxnumports" != "x"; then
  with_maxnumports=`echo $with_maxnumports|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_maxnumports" = "x" && test "x$DEFAULTwith_maxnumports" != "x"; then
  with_maxnumports=$DEFAULTwith_maxnumports
fi

val_maxnumports=$with_maxnumports

if test "x$with_max_cost" != "x"; then
  with_max_cost=`echo $with_max_cost|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_max_cost" = "x" && test "x$DEFAULTwith_max_cost" != "x"; then
  with_max_cost=$DEFAULTwith_max_cost
fi

val_max_cost=$with_max_cost

if test "x$with_catch_reserved_cost" != "x"; then
  with_catch_reserved_cost=`echo $with_catch_reserved_cost|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_catch_reserved_cost" = "x" && test "x$DEFAULTwith_catch_reserved_cost" != "x"; then
  with_catch_reserved_cost=$DEFAULTwith_catch_reserved_cost
fi

val_catch_reserved_cost=$with_catch_reserved_cost

if test "x$with_master_reserved_cost" != "x"; then
  with_master_reserved_cost=`echo $with_master_reserved_cost|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_master_reserved_cost" = "x" && test "x$DEFAULTwith_master_reserved_cost" != "x"; then
  with_master_reserved_cost=$DEFAULTwith_master_reserved_cost
fi

val_master_reserved_cost=$with_master_reserved_cost

if test "x$with_max_array_size" != "x"; then
  with_max_array_size=`echo $with_max_array_size|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_max_array_size" = "x" && test "x$DEFAULTwith_max_array_size" != "x"; then
  with_max_array_size=$DEFAULTwith_max_array_size
fi

val_max_array_size=$with_max_array_size

if test "x$with_max_mapping_size" != "x"; then
  with_max_mapping_size=`echo $with_max_mapping_size|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_max_mapping_size" = "x" && test "x$DEFAULTwith_max_mapping_size" != "x"; then
  with_max_mapping_size=$DEFAULTwith_max_mapping_size
fi

val_max_mapping_size=$with_max_mapping_size

if test "x$with_max_players" != "x"; then
  with_max_players=`echo $with_max_players|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_max_players" = "x" && test "x$DEFAULTwith_max_players" != "x"; then
  with_max_players=$DEFAULTwith_max_players
fi

val_max_players=$with_max_players

if test "x$with_max_local" != "x"; then
  with_max_local=`echo $with_max_local|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_max_local" = "x" && test "x$DEFAULTwith_max_local" != "x"; then
  with_max_local=$DEFAULTwith_max_local
fi

val_max_local=$with_max_local

if test "x$with_allowed_ed_cmds" != "x"; then
  with_allowed_ed_cmds=`echo $with_allowed_ed_cmds|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_allowed_ed_cmds" = "x" && test "x$DEFAULTwith_allowed_ed_cmds" != "x"; then
  with_allowed_ed_cmds=$DEFAULTwith_allowed_ed_cmds
fi

val_allowed_ed_cmds=$with_allowed_ed_cmds

if test "x$with_reserved_user_size" != "x"; then
  with_reserved_user_size=`echo $with_reserved_user_size|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_reserved_user_size" = "x" && test "x$DEFAULTwith_reserved_user_size" != "x"; then
  with_reserved_user_size=$DEFAULTwith_reserved_user_size
fi

val_reserved_user_size=$with_reserved_user_size

if test "x$with_reserved_master_size" != "x"; then
  with_reserved_master_size=`echo $with_reserved_master_size|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_reserved_master_size" = "x" && test "x$DEFAULTwith_reserved_master_size" != "x"; then
  with_reserved_master_size=$DEFAULTwith_reserved_master_size
fi

val_reserved_master_size=$with_reserved_master_size

if test "x$with_reserved_system_size" != "x"; then
  with_reserved_system_size=`echo $with_reserved_system_size|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_reserved_system_size" = "x" && test "x$DEFAULTwith_reserved_system_size" != "x"; then
  with_reserved_system_size=$DEFAULTwith_reserved_system_size
fi

val_reserved_system_size=$with_reserved_system_size

if test "x$with_htable_size" != "x"; then
  with_htable_size=`echo $with_htable_size|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_htable_size" = "x" && test "x$DEFAULTwith_htable_size" != "x"; then
  with_htable_size=$DEFAULTwith_htable_size
fi

val_htable_size=$with_htable_size

if test "x$with_itable_size" != "x"; then
  with_itable_size=`echo $with_itable_size|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_itable_size" = "x" && test "x$DEFAULTwith_itable_size" != "x"; then
  with_itable_size=$DEFAULTwith_itable_size
fi

val_itable_size=$with_itable_size

if test "x$with_otable_size" != "x"; then
  with_otable_size=`echo $with_otable_size|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_otable_size" = "x" && test "x$DEFAULTwith_otable_size" != "x"; then
  with_otable_size=$DEFAULTwith_otable_size
fi

val_otable_size=$with_otable_size

if test "x$with_defmax" != "x"; then
  with_defmax=`echo $with_defmax|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_defmax" = "x" && test "x$DEFAULTwith_defmax" != "x"; then
  with_defmax=$DEFAULTwith_defmax
fi

val_defmax=$with_defmax

if test "x$with_apply_cache_bits" != "x"; then
  with_apply_cache_bits=`echo $with_apply_cache_bits|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_apply_cache_bits" = "x" && test "x$DEFAULTwith_apply_cache_bits" != "x"; then
  with_apply_cache_bits=$DEFAULTwith_apply_cache_bits
fi

val_apply_cache_bits=$with_apply_cache_bits

if test "x$with_rxcache_table" != "x"; then
  with_rxcache_table=`echo $with_rxcache_table|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_rxcache_table" = "x" && test "x$DEFAULTwith_rxcache_table" != "x"; then
  with_rxcache_table=$DEFAULTwith_rxcache_table
fi

val_rxcache_table=$with_rxcache_table

if test "x$with_max_byte_transfer" != "x"; then
  with_max_byte_transfer=`echo $with_max_byte_transfer|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_max_byte_transfer" = "x" && test "x$DEFAULTwith_max_byte_transfer" != "x"; then
  with_max_byte_transfer=$DEFAULTwith_max_byte_transfer
fi

val_max_byte_transfer=$with_max_byte_transfer

if test "x$with_catch_udp_port" != "x"; then
  with_catch_udp_port=`echo $with_catch_udp_port|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_catch_udp_port" = "x" && test "x$DEFAULTwith_catch_udp_port" != "x"; then
  with_catch_udp_port=$DEFAULTwith_catch_udp_port
fi

val_catch_udp_port=$with_catch_udp_port

if test "x$with_set_buffer_size_max" != "x"; then
  with_set_buffer_size_max=`echo $with_set_buffer_size_max|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_set_buffer_size_max" = "x" && test "x$DEFAULTwith_set_buffer_size_max" != "x"; then
  with_set_buffer_size_max=$DEFAULTwith_set_buffer_size_max
fi

val_set_buffer_size_max=$with_set_buffer_size_max

if test "x$with_malloc" != "x"; then
  with_malloc=`echo $with_malloc|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_malloc" = "x" && test "x$DEFAULTwith_malloc" != "x"; then
  with_malloc=$DEFAULTwith_malloc
fi

val_malloc=$with_malloc

if test "x$with_min_malloced" != "x"; then
  with_min_malloced=`echo $with_min_malloced|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_min_malloced" = "x" && test "x$DEFAULTwith_min_malloced" != "x"; then
  with_min_malloced=$DEFAULTwith_min_malloced
fi

val_min_malloced=$with_min_malloced

if test "x$with_max_malloced" != "x"; then
  with_max_malloced=`echo $with_max_malloced|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_max_malloced" = "x" && test "x$DEFAULTwith_max_malloced" != "x"; then
  with_max_malloced=$DEFAULTwith_max_malloced
fi

val_max_malloced=$with_max_malloced

if test "x$with_total_trace_length" != "x"; then
  with_total_trace_length=`echo $with_total_trace_length|
             sed -e 's/^\(-\?\(0x[0-9a-fA-F]\+\)\?[0-9]*\)[^0-9]\?.*$/\1/'`
fi
if test "x$with_total_trace_length" = "x" && test "x$DEFAULTwith_total_trace_length" != "x"; then
  with_total_trace_length=$DEFAULTwith_total_trace_length
fi

val_total_trace_length=$with_total_trace_length


if test "x$cdef_access_control" = "x#undef"; then
  cdef_access_log="#undef"
  val_access_log=
fi

if test "x$cdef_access_log" = "x#undef"; then
  val_access_log=
fi

if test "x$cdef_catch_udp_port" = "x#undef"; then
  val_catch_udp_port=
fi

if test "x$cdef_min_malloced" = "x#undef"; then
  val_min_malloced=
fi

if test "x$cdef_max_malloced" = "x#undef"; then
  val_max_malloced=
fi

if test "x$cdef_rxcache_table" = "x#undef"; then
  val_rxcache_table=
fi


# Extract the first word of "gcc", so it can be a program name with args.
set dummy gcc; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1911: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_CC="gcc"
      break
    fi
  done
  IFS="$ac_save_ifs"
fi
fi
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

if test -z "$CC"; then
  # Extract the first word of "cc", so it can be a program name with args.
set dummy cc; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1941: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_prog_rejected=no
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      if test "$ac_dir/$ac_word" = "/usr/ucb/cc"; then
        ac_prog_rejected=yes
	continue
      fi
      ac_cv_prog_CC="cc"
      break
    fi
  done
  IFS="$ac_save_ifs"
if test $ac_prog_rejected = yes; then
  # We found a bogon in the path, so make sure we never use it.
  set dummy $ac_cv_prog_CC
  shift
  if test $# -gt 0; then
    # We chose a different compiler from the bogus one.
    # However, it has the same basename, so the bogon will be chosen
    # first if we set CC to just the basename; use the full file name.
    shift
    set dummy "$ac_dir/$ac_word" "$@"
    shift
    ac_cv_prog_CC="$@"
  fi
fi
fi
fi
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

  if test -z "$CC"; then
    case "`uname -s`" in
    *win32* | *WIN32*)
      # Extract the first word of "cl", so it can be a program name with args.
set dummy cl; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1992: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_CC="cl"
      break
    fi
  done
  IFS="$ac_save_ifs"
fi
fi
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
 ;;
    esac
  fi
  test -z "$CC" && { echo "configure: error: no acceptable cc found in \$PATH" 1>&2; exit 1; }
fi

echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works""... $ac_c" 1>&6
echo "configure:2024: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5

ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross

cat > conftest.$ac_ext << EOF

#line 2035 "configure"
#include "confdefs.h"

main(){return(0);}
EOF
if { (eval echo configure:2040: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  ac_cv_prog_cc_works=yes
  # If we can't run a trivial program, we are probably using a cross compiler.
  if (./conftest; exit) 2>/dev/null; then
    ac_cv_prog_cc_cross=no
  else
    ac_cv_prog_cc_cross=yes
  fi
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  ac_cv_prog_cc_works=no
fi
rm -fr conftest*
ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross

echo "$ac_t""$ac_cv_prog_cc_works" 1>&6
if test $ac_cv_prog_cc_works = no; then
  { echo "configure: error: installation or configuration problem: C compiler cannot create executables." 1>&2; exit 1; }
fi
echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
echo "configure:2066: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
echo "$ac_t""$ac_cv_prog_cc_cross" 1>&6
cross_compiling=$ac_cv_prog_cc_cross

echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
echo "configure:2071: checking whether we are using GNU C" >&5
if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.c <<EOF
#ifdef __GNUC__
  yes;
#endif
EOF
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:2080: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
  ac_cv_prog_gcc=yes
else
  ac_cv_prog_gcc=no
fi
fi

echo "$ac_t""$ac_cv_prog_gcc" 1>&6

if test $ac_cv_prog_gcc = yes; then
  GCC=yes
else
  GCC=
fi

ac_test_CFLAGS="${CFLAGS+set}"
ac_save_CFLAGS="$CFLAGS"
CFLAGS=
echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
echo "configure:2099: checking whether ${CC-cc} accepts -g" >&5
if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  echo 'void f(){}' > conftest.c
if test -z "`${CC-cc} -g -c conftest.c 2>&1`"; then
  ac_cv_prog_cc_g=yes
else
  ac_cv_prog_cc_g=no
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_prog_cc_g" 1>&6
if test "$ac_test_CFLAGS" = set; then
  CFLAGS="$ac_save_CFLAGS"
elif test $ac_cv_prog_cc_g = yes; then
  if test "$GCC" = yes; then
    CFLAGS="-g -O2"
  else
    CFLAGS="-g"
  fi
else
  if test "$GCC" = yes; then
    CFLAGS="-O2"
  else
    CFLAGS=
  fi
fi


# The newer versions of gcc/egcs running on SunOS fall into catatonia when
# asked to compile this test with any optimisation. To be able to run
# configure at all, we fudge the CFLAGS a bit.

save_cflags=$CFLAGS
echo "For this test, I use '-g' instead of '$CFLAGS' as compiler flags."
CFLAGS="-g"

echo $ac_n "checking gcc/assembler float/branch incompatibility, e.g. on AIX""... $ac_c" 1>&6
echo "configure:2140: checking gcc/assembler float/branch incompatibility, e.g. on AIX" >&5
if eval "test \"`echo '$''{'lp_cv_sys_float_branch_incompatible'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2145 "configure"
#include "confdefs.h"
int foo(), bar(), foobar();
#define x1 foobar();
#define x4 x1 x1 x1 x1
#define x10 x4 x4 x4 x4
#define x40 x10 x10 x10 x10
#define x100 x40 x40 x40 x40
#define x400 x100 x100 x100 x100
#define x1000 x400 x400 x400 x400
int long_branch(i)
    int i;
{
    if (i > 1) {
        x1000
    } else foo();
    return bar();
}
int foo(){ return 0; }
int bar(){ return 0; }
int foobar(){ return 0; }
double d = 4.5;
int main() {
double e = 1.3; e/= 0.2;
; return 0; }
EOF
if { (eval echo configure:2171: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  lp_cv_sys_float_branch_incompatible=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  lp_cv_sys_float_branch_incompatible=yes

fi
rm -f conftest*
fi

echo "$ac_t""$lp_cv_sys_float_branch_incompatible" 1>&6
if test $lp_cv_sys_float_branch_incompatible = yes ; then
  CC="cc"
  GCC=""
  echo "configure: warning: falling back to cc" 1>&2
fi

# Restore the CFLAGS
CFLAGS=$save_cflags

cat > conftest.$ac_ext <<EOF
#line 2195 "configure"
#include "confdefs.h"

#ifndef __STDC__
#error need STDC
guarantee an compiling error here...
#endif

int main() {

; return 0; }
EOF
if { (eval echo configure:2207: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  :
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  { echo "configure: error: You need an ANSI-C compiler! sorry.." 1>&2; exit 1; }

fi
rm -f conftest*



ac_aux_dir=
for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do
  if test -f $ac_dir/install-sh; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/install-sh -c"
    break
  elif test -f $ac_dir/install.sh; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/install.sh -c"
    break
  fi
done
if test -z "$ac_aux_dir"; then
  { echo "configure: error: can not find install-sh or install.sh in $srcdir $srcdir/.. $srcdir/../.." 1>&2; exit 1; }
fi
ac_config_guess=$ac_aux_dir/config.guess
ac_config_sub=$ac_aux_dir/config.sub
ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.

# Find a good install program.  We prefer a C program (faster),
# so one script is as good as another.  But avoid the broken or
# incompatible versions:
# SysV /etc/install, /usr/sbin/install
# SunOS /usr/etc/install
# IRIX /sbin/install
# AIX /bin/install
# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
# AFS /usr/afsws/bin/install, which mishandles nonexistent args
# SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
# ./install, which can be erroneously created by make from ./install.sh.
echo $ac_n "checking for a BSD compatible install""... $ac_c" 1>&6
echo "configure:2252: checking for a BSD compatible install" >&5
if test -z "$INSTALL"; then
if eval "test \"`echo '$''{'ac_cv_path_install'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
    IFS="${IFS= 	}"; ac_save_IFS="$IFS"; IFS=":"
  for ac_dir in $PATH; do
    # Account for people who put trailing slashes in PATH elements.
    case "$ac_dir/" in
    /|./|.//|/etc/*|/usr/sbin/*|/usr/etc/*|/sbin/*|/usr/afsws/bin/*|/usr/ucb/*) ;;
    *)
      # OSF1 and SCO ODT 3.0 have their own names for install.
      # Don't use installbsd from OSF since it installs stuff as root
      # by default.
      for ac_prog in ginstall scoinst install; do
        if test -f $ac_dir/$ac_prog; then
	  if test $ac_prog = install &&
            grep dspmsg $ac_dir/$ac_prog >/dev/null 2>&1; then
	    # AIX install.  It has an incompatible calling convention.
	    :
	  else
	    ac_cv_path_install="$ac_dir/$ac_prog -c"
	    break 2
	  fi
	fi
      done
      ;;
    esac
  done
  IFS="$ac_save_IFS"

fi
  if test "${ac_cv_path_install+set}" = set; then
    INSTALL="$ac_cv_path_install"
  else
    # As a last resort, use the slow shell script.  We don't cache a
    # path for INSTALL within a source directory, because that will
    # break other packages using the cache if that directory is
    # removed, or if the path is relative.
    INSTALL="$ac_install_sh"
  fi
fi
echo "$ac_t""$INSTALL" 1>&6

# Use test -z because SunOS4 sh mishandles braces in ${var-val}.
# It thinks the first close brace ends the variable substitution.
test -z "$INSTALL_PROGRAM" && INSTALL_PROGRAM='${INSTALL}'

test -z "$INSTALL_SCRIPT" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'

test -z "$INSTALL_DATA" && INSTALL_DATA='${INSTALL} -m 644'


for ac_prog in byacc
do
# Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:2310: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_YACC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$YACC"; then
  ac_cv_prog_YACC="$YACC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_YACC="$ac_prog"
      break
    fi
  done
  IFS="$ac_save_ifs"
fi
fi
YACC="$ac_cv_prog_YACC"
if test -n "$YACC"; then
  echo "$ac_t""$YACC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

test -n "$YACC" && break
done
test -n "$YACC" || YACC="yacc"

echo $ac_n "checking how to run the C preprocessor""... $ac_c" 1>&6
echo "configure:2341: checking how to run the C preprocessor" >&5
# On Suns, sometimes $CPP names a directory.
if test -n "$CPP" && test -d "$CPP"; then
  CPP=
fi
if test -z "$CPP"; then
if eval "test \"`echo '$''{'ac_cv_prog_CPP'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
    # This must be in double quotes, not single quotes, because CPP may get
  # substituted into the Makefile and "${CC-cc}" will confuse make.
  CPP="${CC-cc} -E"
  # On the NeXT, cc -E runs the code through the compiler's parser,
  # not just through cpp.
  cat > conftest.$ac_ext <<EOF
#line 2356 "configure"
#include "confdefs.h"
#include <assert.h>
Syntax Error
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:2362: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  :
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CPP="${CC-cc} -E -traditional-cpp"
  cat > conftest.$ac_ext <<EOF
#line 2373 "configure"
#include "confdefs.h"
#include <assert.h>
Syntax Error
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:2379: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  :
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CPP="${CC-cc} -nologo -E"
  cat > conftest.$ac_ext <<EOF
#line 2390 "configure"
#include "confdefs.h"
#include <assert.h>
Syntax Error
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:2396: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  :
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CPP=/lib/cpp
fi
rm -f conftest*
fi
rm -f conftest*
fi
rm -f conftest*
  ac_cv_prog_CPP="$CPP"
fi
  CPP="$ac_cv_prog_CPP"
else
  ac_cv_prog_CPP="$CPP"
fi
echo "$ac_t""$CPP" 1>&6

for ac_hdr in sys/rusage.h sys/time.h unistd.h stdlib.h libc.h memory.h
do
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:2424: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2429 "configure"
#include "confdefs.h"
#include <$ac_hdr>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:2434: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
fi
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_hdr in values.h string.h bstring.h netdb.h crypt.h sys/param.h sys/termios.h
do
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:2464: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2469 "configure"
#include "confdefs.h"
#include <$ac_hdr>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:2474: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
fi
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

echo $ac_n "checking for ANSI C header files""... $ac_c" 1>&6
echo "configure:2501: checking for ANSI C header files" >&5
if eval "test \"`echo '$''{'ac_cv_header_stdc'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2506 "configure"
#include "confdefs.h"
#include <stdlib.h>
#include <stdarg.h>
#include <string.h>
#include <float.h>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:2514: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  ac_cv_header_stdc=yes
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_header_stdc=no
fi
rm -f conftest*

if test $ac_cv_header_stdc = yes; then
  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
cat > conftest.$ac_ext <<EOF
#line 2531 "configure"
#include "confdefs.h"
#include <string.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "memchr" >/dev/null 2>&1; then
  :
else
  rm -rf conftest*
  ac_cv_header_stdc=no
fi
rm -f conftest*

fi

if test $ac_cv_header_stdc = yes; then
  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
cat > conftest.$ac_ext <<EOF
#line 2549 "configure"
#include "confdefs.h"
#include <stdlib.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "free" >/dev/null 2>&1; then
  :
else
  rm -rf conftest*
  ac_cv_header_stdc=no
fi
rm -f conftest*

fi

if test $ac_cv_header_stdc = yes; then
  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.
if test "$cross_compiling" = yes; then
  :
else
  cat > conftest.$ac_ext <<EOF
#line 2570 "configure"
#include "confdefs.h"
#include <ctype.h>
#define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
#define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))
int main () { int i; for (i = 0; i < 256; i++)
if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);
exit (0); }

EOF
if { (eval echo configure:2581: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  :
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_header_stdc=no
fi
rm -fr conftest*
fi

fi
fi

echo "$ac_t""$ac_cv_header_stdc" 1>&6
if test $ac_cv_header_stdc = yes; then
  cat >> confdefs.h <<\EOF
#define STDC_HEADERS 1
EOF

fi

for ac_hdr in limits.h
do
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:2608: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2613 "configure"
#include "confdefs.h"
#include <$ac_hdr>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:2618: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
fi
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

ac_header_dirent=no
for ac_hdr in dirent.h sys/ndir.h sys/dir.h ndir.h
do
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr that defines DIR""... $ac_c" 1>&6
echo "configure:2649: checking for $ac_hdr that defines DIR" >&5
if eval "test \"`echo '$''{'ac_cv_header_dirent_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2654 "configure"
#include "confdefs.h"
#include <sys/types.h>
#include <$ac_hdr>
int main() {
DIR *dirp = 0;
; return 0; }
EOF
if { (eval echo configure:2662: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  eval "ac_cv_header_dirent_$ac_safe=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_dirent_$ac_safe=no"
fi
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_dirent_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
EOF
 ac_header_dirent=$ac_hdr; break
else
  echo "$ac_t""no" 1>&6
fi
done
# Two versions of opendir et al. are in -ldir and -lx on SCO Xenix.
if test $ac_header_dirent = dirent.h; then
echo $ac_n "checking for opendir in -ldir""... $ac_c" 1>&6
echo "configure:2687: checking for opendir in -ldir" >&5
ac_lib_var=`echo dir'_'opendir | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-ldir  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 2695 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char opendir();

int main() {
opendir()
; return 0; }
EOF
if { (eval echo configure:2706: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="$LIBS -ldir"
else
  echo "$ac_t""no" 1>&6
fi

else
echo $ac_n "checking for opendir in -lx""... $ac_c" 1>&6
echo "configure:2728: checking for opendir in -lx" >&5
ac_lib_var=`echo x'_'opendir | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lx  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 2736 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char opendir();

int main() {
opendir()
; return 0; }
EOF
if { (eval echo configure:2747: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="$LIBS -lx"
else
  echo "$ac_t""no" 1>&6
fi

fi


echo $ac_n "checking size of char *""... $ac_c" 1>&6
echo "configure:2771: checking size of char *" >&5
if eval "test \"`echo '$''{'ac_cv_sizeof_char_p'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
    { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
else
  cat > conftest.$ac_ext <<EOF
#line 2779 "configure"
#include "confdefs.h"
#include <stdio.h>
main()
{
  FILE *f=fopen("conftestval", "w");
  if (!f) exit(1);
  fprintf(f, "%d\n", sizeof(char *));
  exit(0);
}
EOF
if { (eval echo configure:2790: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  ac_cv_sizeof_char_p=`cat conftestval`
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_sizeof_char_p=0
fi
rm -fr conftest*
fi

fi
echo "$ac_t""$ac_cv_sizeof_char_p" 1>&6
cat >> confdefs.h <<EOF
#define SIZEOF_CHAR_P $ac_cv_sizeof_char_p
EOF


echo $ac_n "checking size of int""... $ac_c" 1>&6
echo "configure:2810: checking size of int" >&5
if eval "test \"`echo '$''{'ac_cv_sizeof_int'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
    { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
else
  cat > conftest.$ac_ext <<EOF
#line 2818 "configure"
#include "confdefs.h"
#include <stdio.h>
main()
{
  FILE *f=fopen("conftestval", "w");
  if (!f) exit(1);
  fprintf(f, "%d\n", sizeof(int));
  exit(0);
}
EOF
if { (eval echo configure:2829: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  ac_cv_sizeof_int=`cat conftestval`
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_sizeof_int=0
fi
rm -fr conftest*
fi

fi
echo "$ac_t""$ac_cv_sizeof_int" 1>&6
cat >> confdefs.h <<EOF
#define SIZEOF_INT $ac_cv_sizeof_int
EOF


echo $ac_n "checking size of short""... $ac_c" 1>&6
echo "configure:2849: checking size of short" >&5
if eval "test \"`echo '$''{'ac_cv_sizeof_short'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
    { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
else
  cat > conftest.$ac_ext <<EOF
#line 2857 "configure"
#include "confdefs.h"
#include <stdio.h>
main()
{
  FILE *f=fopen("conftestval", "w");
  if (!f) exit(1);
  fprintf(f, "%d\n", sizeof(short));
  exit(0);
}
EOF
if { (eval echo configure:2868: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  ac_cv_sizeof_short=`cat conftestval`
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_sizeof_short=0
fi
rm -fr conftest*
fi

fi
echo "$ac_t""$ac_cv_sizeof_short" 1>&6
cat >> confdefs.h <<EOF
#define SIZEOF_SHORT $ac_cv_sizeof_short
EOF


echo $ac_n "checking size of long""... $ac_c" 1>&6
echo "configure:2888: checking size of long" >&5
if eval "test \"`echo '$''{'ac_cv_sizeof_long'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
    { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
else
  cat > conftest.$ac_ext <<EOF
#line 2896 "configure"
#include "confdefs.h"
#include <stdio.h>
main()
{
  FILE *f=fopen("conftestval", "w");
  if (!f) exit(1);
  fprintf(f, "%d\n", sizeof(long));
  exit(0);
}
EOF
if { (eval echo configure:2907: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  ac_cv_sizeof_long=`cat conftestval`
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_sizeof_long=0
fi
rm -fr conftest*
fi

fi
echo "$ac_t""$ac_cv_sizeof_long" 1>&6
cat >> confdefs.h <<EOF
#define SIZEOF_LONG $ac_cv_sizeof_long
EOF



echo $ac_n "checking for needed malloc() alignment""... $ac_c" 1>&6
echo "configure:2928: checking for needed malloc() alignment" >&5
if eval "test \"`echo '$''{'lp_cv_sys_malloc_align'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2933 "configure"
#include "confdefs.h"
struct ts {double d; char *p; double e;};
int i = 96/(sizeof(struct ts)-20);

int main() {

; return 0; }
EOF
if { (eval echo configure:2942: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  lp_cv_sys_malloc_align=8
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  lp_cv_sys_malloc_align=4
fi
rm -f conftest*
fi

echo "$ac_t""$lp_cv_sys_malloc_align" 1>&6
cat >> confdefs.h <<EOF
#define MALLOC_ALIGN $lp_cv_sys_malloc_align
EOF


echo $ac_n "checking for ssize_t""... $ac_c" 1>&6
echo "configure:2961: checking for ssize_t" >&5
if eval "test \"`echo '$''{'lp_cv_type_ssize_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2966 "configure"
#include "confdefs.h"
#include <sys/types.h>
ssize_t i;
int main() {

; return 0; }
EOF
if { (eval echo configure:2974: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  lp_cv_type_ssize_t=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  lp_cv_type_ssize_t=no
fi
rm -f conftest*
fi

echo "$ac_t""$lp_cv_type_ssize_t" 1>&6
if test $lp_cv_type_ssize_t = yes; then
  cat >> confdefs.h <<\EOF
#define HAVE_SSIZE_T 1
EOF

fi

echo $ac_n "checking for long long""... $ac_c" 1>&6
echo "configure:2995: checking for long long" >&5
if eval "test \"`echo '$''{'lp_cv_type_long_long'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3000 "configure"
#include "confdefs.h"
long long i;
int main() {

; return 0; }
EOF
if { (eval echo configure:3007: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  lp_cv_type_long_long=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  lp_cv_type_long_long=no
fi
rm -f conftest*
fi

echo "$ac_t""$lp_cv_type_long_long" 1>&6
if test $lp_cv_type_long_long = yes; then
  cat >> confdefs.h <<\EOF
#define HAVE_LONG_LONG 1
EOF

  echo $ac_n "checking size of long long""... $ac_c" 1>&6
echo "configure:3026: checking size of long long" >&5
if eval "test \"`echo '$''{'ac_cv_sizeof_long_long'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
    { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
else
  cat > conftest.$ac_ext <<EOF
#line 3034 "configure"
#include "confdefs.h"
#include <stdio.h>
main()
{
  FILE *f=fopen("conftestval", "w");
  if (!f) exit(1);
  fprintf(f, "%d\n", sizeof(long long));
  exit(0);
}
EOF
if { (eval echo configure:3045: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  ac_cv_sizeof_long_long=`cat conftestval`
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_sizeof_long_long=0
fi
rm -fr conftest*
fi

fi
echo "$ac_t""$ac_cv_sizeof_long_long" 1>&6
cat >> confdefs.h <<EOF
#define SIZEOF_LONG_LONG $ac_cv_sizeof_long_long
EOF


fi

echo $ac_n "checking for bool""... $ac_c" 1>&6
echo "configure:3067: checking for bool" >&5
if eval "test \"`echo '$''{'lp_cv_type_bool'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3072 "configure"
#include "confdefs.h"
bool b;
int main() {

; return 0; }
EOF
if { (eval echo configure:3079: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  lp_cv_type_bool=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  lp_cv_type_bool=no
fi
rm -f conftest*
fi

echo "$ac_t""$lp_cv_type_bool" 1>&6
if test $lp_cv_type_bool = yes; then
  cat >> confdefs.h <<\EOF
#define HAVE_BOOL 1
EOF

fi

echo $ac_n "checking for inline""... $ac_c" 1>&6
echo "configure:3100: checking for inline" >&5
if eval "test \"`echo '$''{'ac_cv_c_inline'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_cv_c_inline=no
for ac_kw in inline __inline__ __inline; do
  cat > conftest.$ac_ext <<EOF
#line 3107 "configure"
#include "confdefs.h"

int main() {
} $ac_kw foo() {
; return 0; }
EOF
if { (eval echo configure:3114: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  ac_cv_c_inline=$ac_kw; break
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
fi
rm -f conftest*
done

fi

echo "$ac_t""$ac_cv_c_inline" 1>&6
case "$ac_cv_c_inline" in
  inline | yes) ;;
  no) cat >> confdefs.h <<\EOF
#define inline 
EOF
 ;;
  *)  cat >> confdefs.h <<EOF
#define inline $ac_cv_c_inline
EOF
 ;;
esac

if test "x$ac_cv_c_inline" != "xno"; then
  cat >> confdefs.h <<\EOF
#define HAS_INLINE 1
EOF

fi

echo $ac_n "checking for size_t""... $ac_c" 1>&6
echo "configure:3147: checking for size_t" >&5
if eval "test \"`echo '$''{'ac_cv_type_size_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3152 "configure"
#include "confdefs.h"
#include <sys/types.h>
#if STDC_HEADERS
#include <stdlib.h>
#include <stddef.h>
#endif
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "(^|[^a-zA-Z_0-9])size_t[^a-zA-Z_0-9]" >/dev/null 2>&1; then
  rm -rf conftest*
  ac_cv_type_size_t=yes
else
  rm -rf conftest*
  ac_cv_type_size_t=no
fi
rm -f conftest*

fi
echo "$ac_t""$ac_cv_type_size_t" 1>&6
if test $ac_cv_type_size_t = no; then
  cat >> confdefs.h <<\EOF
#define size_t unsigned
EOF

fi

echo $ac_n "checking for pid_t""... $ac_c" 1>&6
echo "configure:3180: checking for pid_t" >&5
if eval "test \"`echo '$''{'ac_cv_type_pid_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3185 "configure"
#include "confdefs.h"
#include <sys/types.h>
#if STDC_HEADERS
#include <stdlib.h>
#include <stddef.h>
#endif
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "(^|[^a-zA-Z_0-9])pid_t[^a-zA-Z_0-9]" >/dev/null 2>&1; then
  rm -rf conftest*
  ac_cv_type_pid_t=yes
else
  rm -rf conftest*
  ac_cv_type_pid_t=no
fi
rm -f conftest*

fi
echo "$ac_t""$ac_cv_type_pid_t" 1>&6
if test $ac_cv_type_pid_t = no; then
  cat >> confdefs.h <<\EOF
#define pid_t int
EOF

fi

echo $ac_n "checking return type of signal handlers""... $ac_c" 1>&6
echo "configure:3213: checking return type of signal handlers" >&5
if eval "test \"`echo '$''{'ac_cv_type_signal'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3218 "configure"
#include "confdefs.h"
#include <sys/types.h>
#include <signal.h>
#ifdef signal
#undef signal
#endif
#ifdef __cplusplus
extern "C" void (*signal (int, void (*)(int)))(int);
#else
void (*signal ()) ();
#endif

int main() {
int i;
; return 0; }
EOF
if { (eval echo configure:3235: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  ac_cv_type_signal=void
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_type_signal=int
fi
rm -f conftest*
fi

echo "$ac_t""$ac_cv_type_signal" 1>&6
cat >> confdefs.h <<EOF
#define RETSIGTYPE $ac_cv_type_signal
EOF


echo $ac_n "checking for main in -lm""... $ac_c" 1>&6
echo "configure:3254: checking for main in -lm" >&5
ac_lib_var=`echo m'_'main | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lm  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3262 "configure"
#include "confdefs.h"

int main() {
main()
; return 0; }
EOF
if { (eval echo configure:3269: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo m | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
EOF

  LIBS="-lm $LIBS"

else
  echo "$ac_t""no" 1>&6
fi

echo $ac_n "checking for main in -lsocket""... $ac_c" 1>&6
echo "configure:3297: checking for main in -lsocket" >&5
ac_lib_var=`echo socket'_'main | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lsocket  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3305 "configure"
#include "confdefs.h"

int main() {
main()
; return 0; }
EOF
if { (eval echo configure:3312: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo socket | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
EOF

  LIBS="-lsocket $LIBS"

else
  echo "$ac_t""no" 1>&6
fi

echo $ac_n "checking for main in -lucb""... $ac_c" 1>&6
echo "configure:3340: checking for main in -lucb" >&5
ac_lib_var=`echo ucb'_'main | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lucb  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3348 "configure"
#include "confdefs.h"

int main() {
main()
; return 0; }
EOF
if { (eval echo configure:3355: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="$LIBS -lc -lucb"
else
  echo "$ac_t""no" 1>&6
fi

echo $ac_n "checking for main in -lcrypt""... $ac_c" 1>&6
echo "configure:3376: checking for main in -lcrypt" >&5
ac_lib_var=`echo crypt'_'main | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lcrypt  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3384 "configure"
#include "confdefs.h"

int main() {
main()
; return 0; }
EOF
if { (eval echo configure:3391: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="$LIBS -lcrypt"
else
  echo "$ac_t""no" 1>&6
fi

if test $ac_cv_lib_socket_main = "yes" || test $ac_cv_lib_ucb_main = "yes"; then
      echo $ac_n "checking for main in -lnsl""... $ac_c" 1>&6
echo "configure:3413: checking for main in -lnsl" >&5
ac_lib_var=`echo nsl'_'main | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lnsl  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3421 "configure"
#include "confdefs.h"

int main() {
main()
; return 0; }
EOF
if { (eval echo configure:3428: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo nsl | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
EOF

  LIBS="-lnsl $LIBS"

else
  echo "$ac_t""no" 1>&6
fi

fi
# The Ultrix 4.2 mips builtin alloca declared by alloca.h only works
# for constant arguments.  Useless!
echo $ac_n "checking for working alloca.h""... $ac_c" 1>&6
echo "configure:3459: checking for working alloca.h" >&5
if eval "test \"`echo '$''{'ac_cv_header_alloca_h'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3464 "configure"
#include "confdefs.h"
#include <alloca.h>
int main() {
char *p = alloca(2 * sizeof(int));
; return 0; }
EOF
if { (eval echo configure:3471: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  ac_cv_header_alloca_h=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_header_alloca_h=no
fi
rm -f conftest*
fi

echo "$ac_t""$ac_cv_header_alloca_h" 1>&6
if test $ac_cv_header_alloca_h = yes; then
  cat >> confdefs.h <<\EOF
#define HAVE_ALLOCA_H 1
EOF

fi

echo $ac_n "checking for alloca""... $ac_c" 1>&6
echo "configure:3492: checking for alloca" >&5
if eval "test \"`echo '$''{'ac_cv_func_alloca_works'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3497 "configure"
#include "confdefs.h"

#ifdef __GNUC__
# define alloca __builtin_alloca
#else
# ifdef _MSC_VER
#  include <malloc.h>
#  define alloca _alloca
# else
#  if HAVE_ALLOCA_H
#   include <alloca.h>
#  else
#   ifdef _AIX
 #pragma alloca
#   else
#    ifndef alloca /* predefined by HP cc +Olibcalls */
char *alloca ();
#    endif
#   endif
#  endif
# endif
#endif

int main() {
char *p = (char *) alloca(1);
; return 0; }
EOF
if { (eval echo configure:3525: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  ac_cv_func_alloca_works=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_func_alloca_works=no
fi
rm -f conftest*
fi

echo "$ac_t""$ac_cv_func_alloca_works" 1>&6
if test $ac_cv_func_alloca_works = yes; then
  cat >> confdefs.h <<\EOF
#define HAVE_ALLOCA 1
EOF

fi

if test $ac_cv_func_alloca_works = no; then
  # The SVR3 libPW and SVR4 libucb both contain incompatible functions
  # that cause trouble.  Some versions do not even contain alloca or
  # contain a buggy version.  If you still want to use their alloca,
  # use ar to extract alloca.o from them instead of compiling alloca.c.
  ALLOCA=alloca.${ac_objext}
  cat >> confdefs.h <<\EOF
#define C_ALLOCA 1
EOF


echo $ac_n "checking whether alloca needs Cray hooks""... $ac_c" 1>&6
echo "configure:3557: checking whether alloca needs Cray hooks" >&5
if eval "test \"`echo '$''{'ac_cv_os_cray'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3562 "configure"
#include "confdefs.h"
#if defined(CRAY) && ! defined(CRAY2)
webecray
#else
wenotbecray
#endif

EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "webecray" >/dev/null 2>&1; then
  rm -rf conftest*
  ac_cv_os_cray=yes
else
  rm -rf conftest*
  ac_cv_os_cray=no
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_os_cray" 1>&6
if test $ac_cv_os_cray = yes; then
for ac_func in _getb67 GETB67 getb67; do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:3587: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3592 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:3615: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<EOF
#define CRAY_STACKSEG_END $ac_func
EOF

  break
else
  echo "$ac_t""no" 1>&6
fi

done
fi

echo $ac_n "checking stack direction for C alloca""... $ac_c" 1>&6
echo "configure:3642: checking stack direction for C alloca" >&5
if eval "test \"`echo '$''{'ac_cv_c_stack_direction'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  ac_cv_c_stack_direction=0
else
  cat > conftest.$ac_ext <<EOF
#line 3650 "configure"
#include "confdefs.h"
find_stack_direction ()
{
  static char *addr = 0;
  auto char dummy;
  if (addr == 0)
    {
      addr = &dummy;
      return find_stack_direction ();
    }
  else
    return (&dummy > addr) ? 1 : -1;
}
main ()
{
  exit (find_stack_direction() < 0);
}
EOF
if { (eval echo configure:3669: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  ac_cv_c_stack_direction=1
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_c_stack_direction=-1
fi
rm -fr conftest*
fi

fi

echo "$ac_t""$ac_cv_c_stack_direction" 1>&6
cat >> confdefs.h <<EOF
#define STACK_DIRECTION $ac_cv_c_stack_direction
EOF

fi

for ac_func in fchmod getrusage bzero memset memcpy memmem strdup strcspn crypt _crypt
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:3693: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3698 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:3721: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in strchr strrchr getcwd memmove sysconf gettimeofday wait3 waitpid
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:3748: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3753 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:3776: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in fcntl getdomainname
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:3803: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3808 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:3831: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done


echo $ac_n "checking if inet_ntoa() ok""... $ac_c" 1>&6
echo "configure:3857: checking if inet_ntoa() ok" >&5
if eval "test \"`echo '$''{'lp_cv_func_inet_ntoa_ok'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  cat > conftest.$ac_ext <<EOF
#line 3863 "configure"
#include "confdefs.h"

#if defined(sun) && !defined(__svr4__)
#include <sys/types.h> /* needed for netinet/in.h */
#include <netinet/in.h>
#include <arpa/inet.h>
char *inet_ntoa(ad)
    struct in_addr ad;
{
    static char addr[20];
    return addr;
}
#else
use inet_ntoa() from the library.
#endif

int main() {

; return 0; }
EOF
if { (eval echo configure:3884: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  lp_cv_func_inet_ntoa_ok=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  lp_cv_func_inet_ntoa_ok=yes

fi
rm -f conftest*
else
  cat > conftest.$ac_ext <<EOF
#line 3897 "configure"
#include "confdefs.h"

#include <sys/types.h> /* needed for netinet/in.h */
#include <netinet/in.h>
#include <arpa/inet.h>
main() {
    char addr1[] = "176.88.1.16";
    char addr2[] = "88.176.128.2";
    struct in_addr tmp;

#if SIZEOF_INT == 4
#define ADDR_TYPE unsigned int
#else
#define ADDR_TYPE unsigned long
#endif
    *((ADDR_TYPE *)&tmp) = inet_addr(addr1);
    if (strcmp(addr1, inet_ntoa(tmp)))
        exit(1);
    *((ADDR_TYPE *)&tmp) = inet_addr(addr2);
    if (strcmp(addr2, inet_ntoa(tmp)))
        exit(1);
    exit(0);
}

EOF
if { (eval echo configure:3923: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  lp_cv_func_inet_ntoa_ok=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  lp_cv_func_inet_ntoa_ok=no
fi
rm -fr conftest*
fi

fi

echo "$ac_t""$lp_cv_func_inet_ntoa_ok" 1>&6
if test $lp_cv_func_inet_ntoa_ok = yes ; then
  cat >> confdefs.h <<\EOF
#define INET_NTOA_OK 1
EOF

fi

echo $ac_n "checking for IPv6 support""... $ac_c" 1>&6
echo "configure:3946: checking for IPv6 support" >&5
if eval "test \"`echo '$''{'lp_cv_has_ipv6'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  saveflags="$CFLAGS"
CFLAGS="$CFLAGS -I/usr/inet6/include"
cat > conftest.$ac_ext <<EOF
#line 3953 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <netinet/in.h>

struct sockaddr_in6 foo(void)
{
    static struct sockaddr_in6 ad;
    
    return ad;
}

int main() {

; return 0; }
EOF
if { (eval echo configure:3970: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  lp_cv_has_ipv6=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  lp_cv_has_ipv6=no
CFLAGS="$saveflags"

fi
rm -f conftest*
fi

echo "$ac_t""$lp_cv_has_ipv6" 1>&6
if test $lp_cv_has_ipv6 = yes; then
  cat >> confdefs.h <<\EOF
#define HAS_IPV6 1
EOF

  echo $ac_n "checking for main in -linet6""... $ac_c" 1>&6
echo "configure:3991: checking for main in -linet6" >&5
ac_lib_var=`echo inet6'_'main | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-linet6  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3999 "configure"
#include "confdefs.h"

int main() {
main()
; return 0; }
EOF
if { (eval echo configure:4006: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="$LIBS -linet6"
else
  echo "$ac_t""no" 1>&6
fi

fi

echo $ac_n "checking for mySQL""... $ac_c" 1>&6
echo "configure:4029: checking for mySQL" >&5
if eval "test \"`echo '$''{'lp_cv_has_mysql'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  saveflags="$CFLAGS"
cat > conftest.$ac_ext <<EOF
#line 4035 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <mysql/mysql.h>
#include <mysql/errmsg.h>

struct MYSQL * foo(void)
{
    static MYSQL var;
    
    return &var;
}

int main() {

; return 0; }
EOF
if { (eval echo configure:4053: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  lp_cv_has_mysql=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  lp_cv_has_mysql=no
CFLAGS="$saveflags"

fi
rm -f conftest*
fi

echo "$ac_t""$lp_cv_has_mysql" 1>&6
if test $lp_cv_has_mysql = yes; then
  cat >> confdefs.h <<\EOF
#define HAS_MYSQL 1
EOF

  echo $ac_n "checking for main in -lmysqlclient""... $ac_c" 1>&6
echo "configure:4074: checking for main in -lmysqlclient" >&5
ac_lib_var=`echo mysqlclient'_'main | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lmysqlclient  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 4082 "configure"
#include "confdefs.h"

int main() {
main()
; return 0; }
EOF
if { (eval echo configure:4089: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  PKGLIBS="$PKGLIBS -lmysqlclient"
else
  echo "$ac_t""no" 1>&6
fi

fi

echo $ac_n "checking if rename handles directories""... $ac_c" 1>&6
echo "configure:4112: checking if rename handles directories" >&5
if eval "test \"`echo '$''{'lp_cv_sys_rename_handles_directories'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
    { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
else
  cat > conftest.$ac_ext <<EOF
#line 4120 "configure"
#include "confdefs.h"

main() {
    mkdir("conftestdirfrom", 0770);
    exit(rename("conftestdirfrom", "conftestdirto"));
}

EOF
if { (eval echo configure:4129: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  lp_cv_sys_rename_handles_directories=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  lp_cv_sys_rename_handles_directories=no
fi
rm -fr conftest*
fi

fi

echo "$ac_t""$lp_cv_sys_rename_handles_directories" 1>&6
if test $lp_cv_sys_rename_handles_directories = yes; then
  cat >> confdefs.h <<\EOF
#define RENAME_HANDLES_DIRECTORIES 1
EOF

fi

if test $ac_cv_func_getrusage = "yes" ; then
echo $ac_n "checking full availability of struct rusage members""... $ac_c" 1>&6
echo "configure:4153: checking full availability of struct rusage members" >&5
if eval "test \"`echo '$''{'lp_cv_struct_rusage_full'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 4158 "configure"
#include "confdefs.h"

#include <sys/types.h> /* BSDI 2.0.1 / 2.1 needs this for resource.h */
#include <sys/time.h>
#ifdef HAVE_SYS_RUSAGE_H
#include <sys/rusage.h>
#endif
#include <sys/resource.h>
#ifndef RUSAGE_SELF
#define RUSAGE_SELF     0
#endif

int main() {

    struct rusage rus;
    long *v = (long *)main;
    getrusage(RUSAGE_SELF, &rus);
    *v++ = rus.ru_maxrss;
    *v++ = rus.ru_ixrss;
    *v++ = rus.ru_idrss;
    *v++ = rus.ru_isrss;
    *v++ = rus.ru_minflt;
    *v++ = rus.ru_majflt;
    *v++ = rus.ru_nswap;
    *v++ = rus.ru_inblock;
    *v++ = rus.ru_oublock;
    *v++ = rus.ru_msgsnd;
    *v++ = rus.ru_msgrcv;
    *v++ = rus.ru_nsignals;
    *v++ = rus.ru_nvcsw;
    *v++ = rus.ru_nivcsw;

; return 0; }
EOF
if { (eval echo configure:4193: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  lp_cv_struct_rusage_full=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  lp_cv_struct_rusage_full=no
fi
rm -f conftest*
fi

echo "$ac_t""$lp_cv_struct_rusage_full" 1>&6
if test $lp_cv_struct_rusage_full = no; then
  cat >> confdefs.h <<\EOF
#define GETRUSAGE_RESTRICTED 1
EOF

fi
echo $ac_n "checking struct rusage timeval members with tv_usec""... $ac_c" 1>&6
echo "configure:4213: checking struct rusage timeval members with tv_usec" >&5
if eval "test \"`echo '$''{'lp_cv_struct_rusage_usec'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 4218 "configure"
#include "confdefs.h"

#include <sys/types.h> /* BSDI 2.0.1 / 2.1 needs this for resource.h */
#include <sys/time.h>
#ifdef HAVE_SYS_RUSAGE_H
#include <sys/rusage.h>
#endif
#include <sys/resource.h>
#ifndef RUSAGE_SELF
#define RUSAGE_SELF     0
#endif

int main() {

    struct rusage rus;
    long *v = (long *)main;
    getrusage(RUSAGE_SELF, &rus);
    *v++ = rus.ru_utime.tv_sec * 1000 + rus.ru_utime.tv_usec / 1000;
    *v++ = rus.ru_stime.tv_sec * 1000 + rus.ru_stime.tv_usec / 1000;

; return 0; }
EOF
if { (eval echo configure:4241: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  lp_cv_struct_rusage_usec=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  lp_cv_struct_rusage_usec=no
fi
rm -f conftest*
fi

echo "$ac_t""$lp_cv_struct_rusage_usec" 1>&6
if test $lp_cv_struct_rusage_usec = yes; then
  cat >> confdefs.h <<\EOF
#define RUSAGE_USEC 1
EOF

fi
else
echo $ac_n "checking for getrusage() via syscall()""... $ac_c" 1>&6
echo "configure:4262: checking for getrusage() via syscall()" >&5
if eval "test \"`echo '$''{'lp_cv_func_getrusage_via_syscall'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 4267 "configure"
#include "confdefs.h"

#include <sys/types.h> /* BSDI 2.0.1 / 2.1 needs this for resource.h */
#include <sys/syscall.h>
#include <sys/resource.h>
#ifndef RUSAGE_SELF
#define RUSAGE_SELF     0
#endif

int main() {

struct rusage rus;
syscall(SYS_GETRUSAGE, RUSAGE_SELF, rus);

; return 0; }
EOF
if { (eval echo configure:4284: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  lp_cv_func_getrusage_via_syscall=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  lp_cv_func_getrusage_via_syscall=no
fi
rm -f conftest*
fi

echo "$ac_t""$lp_cv_func_getrusage_via_syscall" 1>&6
if test $lp_cv_func_getrusage_via_syscall=yes; then
  cat >> confdefs.h <<\EOF
#define GETRUSAGE_VIA_SYSCALL 1
EOF
 cat >> confdefs.h <<\EOF
#define HAVE_GETRUSAGE 1
EOF

fi
fi

echo $ac_n "checking if return type of free is void""... $ac_c" 1>&6
echo "configure:4309: checking if return type of free is void" >&5
if eval "test \"`echo '$''{'lp_cv_prop_free_returns_void'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 4314 "configure"
#include "confdefs.h"

#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif
#if !defined(STDC_HEADERS) && defined(HAVE_MEMORY_H)
#include <memory.h>
#endif
void free();

int main() {

; return 0; }
EOF
if { (eval echo configure:4332: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  lp_cv_prop_free_returns_void=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  lp_cv_prop_free_returns_void=no
fi
rm -f conftest*
fi

echo "$ac_t""$lp_cv_prop_free_returns_void" 1>&6
if test $lp_cv_prop_free_returns_void = yes; then
  cat >> confdefs.h <<\EOF
#define FREE_RETURNS_VOID 1
EOF

fi

echo $ac_n "checking if void* or char* from malloc""... $ac_c" 1>&6
echo "configure:4353: checking if void* or char* from malloc" >&5
if eval "test \"`echo '$''{'lp_cv_prop_malloc_return_type'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 4358 "configure"
#include "confdefs.h"

#include <sys/types.h>
#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif
#if !defined(STDC_HEADERS) && defined(HAVE_MEMORY_H)
#include <memory.h>
#endif
#ifdef __STDC__
#define PROT(x) x
#else
#define PROT(x) ()
#endif
#define POINTER void *
POINTER malloc(size_t);
#ifdef FREE_RETURNS_VOID
void free PROT((POINTER));
#else
int free PROT((POINTER));
#endif

int main() {

; return 0; }
EOF
if { (eval echo configure:4388: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  lp_cv_prop_malloc_return_type='void *'
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  lp_cv_prop_malloc_return_type='char *'
fi
rm -f conftest*
fi

echo "$ac_t""$lp_cv_prop_malloc_return_type" 1>&6
cat >> confdefs.h <<EOF
#define POINTER $lp_cv_prop_malloc_return_type
EOF


echo $ac_n "checking if CHAR_BIT == 8 or undef""... $ac_c" 1>&6
echo "configure:4407: checking if CHAR_BIT == 8 or undef" >&5
if eval "test \"`echo '$''{'lp_cv_prop_charbits_eq_8'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 4412 "configure"
#include "confdefs.h"

#include <stdio.h>
#include <string.h>
#include <ctype.h>
#include <limits.h>
#ifdef HAVE_VALUES_H
#include <values.h>
#endif
int i=1/(CHAR_BIT-8);

int main() {

; return 0; }
EOF
if { (eval echo configure:4428: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  lp_cv_prop_charbits_eq_8=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  lp_cv_prop_charbits_eq_8=yes
fi
rm -f conftest*
fi

echo "$ac_t""$lp_cv_prop_charbits_eq_8" 1>&6
if test $lp_cv_prop_charbits_eq_8 = yes; then
  cat >> confdefs.h <<\EOF
#define CHARBIT_MASK 0xff
EOF

else
  cat >> confdefs.h <<\EOF
#define CHARBIT_MASK CHAR_BIT
EOF

fi

echo $ac_n "checking if strtol broken""... $ac_c" 1>&6
echo "configure:4454: checking if strtol broken" >&5
if eval "test \"`echo '$''{'lp_cv_prop_strtol_broken'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
    { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
else
  cat > conftest.$ac_ext <<EOF
#line 4462 "configure"
#include "confdefs.h"

#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif
int main() {
    if (strtol("1", (char **)0, 10) != 1) exit(1);
    exit(0);
}

EOF
if { (eval echo configure:4477: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  lp_cv_prop_strtol_broken=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  lp_cv_prop_strtol_broken=yes
fi
rm -fr conftest*
fi

fi

echo "$ac_t""$lp_cv_prop_strtol_broken" 1>&6
if test $lp_cv_prop_strtol_broken = yes; then
  cat >> confdefs.h <<\EOF
#define STRTOL_BROKEN 1
EOF

fi

echo $ac_n "checking nonblocking using ioctl with FIONBIO""... $ac_c" 1>&6
echo "configure:4500: checking nonblocking using ioctl with FIONBIO" >&5
if eval "test \"`echo '$''{'lp_cv_prop_use_ioctl_fionbio'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  lp_cv_prop_use_ioctl_fionbio=unknown
echo "configure: warning: You have to supply the correct way to set sockets non-blocking by hand." 1>&2

else
  cat > conftest.$ac_ext <<EOF
#line 4510 "configure"
#include "confdefs.h"

#include <sys/types.h> /* needed for netinet/in.h */
#include <sys/socket.h>
#include <netinet/in.h>
#include <netdb.h>
#include <errno.h>
#include <sys/ioctl.h>
#include <stdio.h>
#include <stdlib.h>
main() {
    int port, tmp, s;
    struct sockaddr_in my_sin;
    struct hostent *hp;
    char *host_name;

    host_name = malloc(100);
    if (gethostname(host_name, 100) == -1) exit(1);
    hp = gethostbyname(host_name);
    if (hp == 0) exit(1);
    memset((char *)&my_sin, '\0', sizeof my_sin);
    memcpy((char *)&my_sin.sin_addr, hp->h_addr, hp->h_length);
    my_sin.sin_family = hp->h_addrtype;
    my_sin.sin_addr.s_addr = INADDR_ANY;
    alarm(10);
    for (port = 2000; port < 10000; port++) {
        my_sin.sin_port = htons((u_short)port);
        s = socket(hp->h_addrtype, SOCK_STREAM, 0);
        if (s == -1) exit(1);
        tmp = 1;
        if (setsockopt (s, SOL_SOCKET, SO_REUSEADDR,
                        (char *) &tmp, sizeof (tmp)) < 0)
            exit (1);
        if (bind(s, (struct sockaddr *)&my_sin, sizeof my_sin) == -1) {
            if (errno == EADDRINUSE) {
                close(s);
		continue;
            }
            exit(1);
        }
	if (listen(s, 5) == -1) exit(1);
	tmp = 1;
	if (ioctl(s, FIONBIO, &tmp) == -1) exit(1);
        tmp = sizeof my_sin;
        s = accept(s, (struct sockaddr *)&my_sin, &tmp);
	if (s == -1) {
	    if (errno == EWOULDBLOCK ||
		errno == EAGAIN)
	    {
		/* hpux has special problems with sockets from pipe() */
		int sockets[2];
		FILE *fp_read;

		if(pipe(sockets) < 0)
		    exit(1);
		fp_read = fdopen(sockets[0], "r");
		if (fp_read == NULL)
		    exit(1);
		if (ioctl(fileno(fp_read) , FIONBIO, &tmp) == -1)
		    exit(1);
		exit(0);
	    }
	    if (errno == EINTR) { close(s); continue; }
	}
	break;
    }
    exit(1);
}

EOF
if { (eval echo configure:4581: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  lp_cv_prop_use_ioctl_fionbio=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  lp_cv_prop_use_ioctl_fionbio=no
fi
rm -fr conftest*
fi

fi

echo "$ac_t""$lp_cv_prop_use_ioctl_fionbio" 1>&6
if test $lp_cv_prop_use_ioctl_fionbio = yes; then
  cat >> confdefs.h <<\EOF
#define USE_IOCTL_FIONBIO 1
EOF

fi

echo $ac_n "checking nonblocking using fcntl with O_NDELAY""... $ac_c" 1>&6
echo "configure:4604: checking nonblocking using fcntl with O_NDELAY" >&5
if eval "test \"`echo '$''{'lp_cv_prop_use_fnctl_o_ndelay'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  lp_cv_prop_use_fnctl_o_ndelay=unknown
else
  cat > conftest.$ac_ext <<EOF
#line 4612 "configure"
#include "confdefs.h"

#include <sys/types.h> /* needed for netinet/in.h */
#include <sys/socket.h>
#include <netinet/in.h>
#include <netdb.h>
#include <errno.h>
#include <fcntl.h>
#include <stdlib.h>
main() {
    int port, tmp, s;
    struct sockaddr_in my_sin;
    struct hostent *hp;
    char *host_name;

    host_name = malloc(100);
    if (gethostname(host_name, 100) == -1) exit(1);
    hp = gethostbyname(host_name);
    if (hp == 0) exit(1);
    memset((char *)&my_sin, '\0', sizeof my_sin);
    memcpy((char *)&my_sin.sin_addr, hp->h_addr, hp->h_length);
    my_sin.sin_family = hp->h_addrtype;
    my_sin.sin_addr.s_addr = INADDR_ANY;
    alarm(10);
    for (port = 2000; port < 10000; port++) {
        my_sin.sin_port = htons((u_short)port);
        s = socket(hp->h_addrtype, SOCK_STREAM, 0);
        if (s == -1) exit(1);
        tmp = 1;
        if (setsockopt (s, SOL_SOCKET, SO_REUSEADDR,
                        (char *) &tmp, sizeof (tmp)) < 0)
            exit (1);
        if (bind(s, (struct sockaddr *)&my_sin, sizeof my_sin) == -1) {
            if (errno == EADDRINUSE) {
                close(s);
		continue;
            }
            exit(1);
        }
	if (listen(s, 5) == -1) exit(1);
	if (fcntl(s, F_SETFL, O_NDELAY) == -1) exit(1);
        tmp = sizeof my_sin;
        s = accept(s, (struct sockaddr *)&my_sin, &tmp);
	if (s == -1) {
	    if (errno == EWOULDBLOCK) exit(0);
	    if (errno == EAGAIN) exit(0);
	    if (errno == EINTR) { close(s); continue; }
	}
	break;
    }
    exit(1);
}

EOF
if { (eval echo configure:4667: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  lp_cv_prop_use_fnctl_o_ndelay=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  lp_cv_prop_use_fnctl_o_ndelay=no
fi
rm -fr conftest*
fi

fi

echo "$ac_t""$lp_cv_prop_use_fnctl_o_ndelay" 1>&6
if test $lp_cv_prop_use_fnctl_o_ndelay = yes; then
  cat >> confdefs.h <<\EOF
#define USE_FCNTL_O_NDELAY 1
EOF

fi

echo $ac_n "checking nonblocking using fcntl with FNDELAY""... $ac_c" 1>&6
echo "configure:4690: checking nonblocking using fcntl with FNDELAY" >&5
if eval "test \"`echo '$''{'lp_cv_prop_use_fcntl_fndelay'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  lp_cv_prop_use_fcntl_fndelay=unknown
else
  cat > conftest.$ac_ext <<EOF
#line 4698 "configure"
#include "confdefs.h"

#include <sys/types.h> /* needed for netinet/in.h */
#include <sys/socket.h>
#include <netinet/in.h>
#include <netdb.h>
#include <errno.h>
#include <fcntl.h>
#include <stdlib.h>
main() {
    int port, tmp, s;
    struct sockaddr_in my_sin;
    struct hostent *hp;
    char *host_name;

    host_name = malloc(100);
    if (gethostname(host_name, 100) == -1) exit(1);
    hp = gethostbyname(host_name);
    if (hp == 0) exit(1);
    memset((char *)&my_sin, '\0', sizeof my_sin);
    memcpy((char *)&my_sin.sin_addr, hp->h_addr, hp->h_length);
    my_sin.sin_family = hp->h_addrtype;
    my_sin.sin_addr.s_addr = INADDR_ANY;
    alarm(10);
    for (port = 2000; port < 10000; port++) {
        my_sin.sin_port = htons((u_short)port);
        s = socket(hp->h_addrtype, SOCK_STREAM, 0);
        if (s == -1) exit(1);
        tmp = 1;
        if (setsockopt (s, SOL_SOCKET, SO_REUSEADDR,
                        (char *) &tmp, sizeof (tmp)) < 0)
            exit (1);
        if (bind(s, (struct sockaddr *)&my_sin, sizeof my_sin) == -1) {
            if (errno == EADDRINUSE) {
                close(s);
		continue;
            }
            exit(1);
        }
	if (listen(s, 5) == -1) exit(1);
	if (fcntl(s, F_SETFL, FNDELAY) == -1) exit(1);
        tmp = sizeof my_sin;
        s = accept(s, (struct sockaddr *)&my_sin, &tmp);
	if (s == -1) {
	    if (errno == EWOULDBLOCK) exit(0);
	    if (errno == EAGAIN) exit(0);
	    if (errno == EINTR) { close(s); continue; }
	}
	break;
    }
    exit(1);
}

EOF
if { (eval echo configure:4753: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  lp_cv_prop_use_fcntl_fndelay=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  lp_cv_prop_use_fcntl_fndelay=no
fi
rm -fr conftest*
fi

fi

echo "$ac_t""$lp_cv_prop_use_fcntl_fndelay" 1>&6
if test $lp_cv_prop_use_fcntl_fndelay = yes; then
  cat >> confdefs.h <<\EOF
#define USE_FCNTL_FNDELAY 1
EOF

fi


echo $ac_n "checking if fcntl with SETOWN works""... $ac_c" 1>&6
echo "configure:4777: checking if fcntl with SETOWN works" >&5
if eval "test \"`echo '$''{'lp_cv_prop_use_fcntl_setown'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  lp_cv_prop_use_fcntl_setown=unknown
else
  cat > conftest.$ac_ext <<EOF
#line 4785 "configure"
#include "confdefs.h"

#include <sys/types.h> /* needed for netinet/in.h */
#include <sys/socket.h>
#include <netinet/in.h>
#include <netdb.h>
#include <errno.h>
#include <fcntl.h>
#include <stdlib.h>
main() {
    int port, tmp, s;
    struct sockaddr_in my_sin;
    struct hostent *hp;
    char *host_name;

    host_name = malloc(100);
    if (gethostname(host_name, 100) == -1) exit(1);
    hp = gethostbyname(host_name);
    if (hp == 0) exit(1);
    memset((char *)&my_sin, '\0', sizeof my_sin);
    memcpy((char *)&my_sin.sin_addr, hp->h_addr, hp->h_length);
    my_sin.sin_family = hp->h_addrtype;
    my_sin.sin_addr.s_addr = INADDR_ANY;
    alarm(10);
    for (port = 2000; port < 10000; port++) {
        my_sin.sin_port = htons((u_short)port);
        s = socket(hp->h_addrtype, SOCK_STREAM, 0);
        if (s == -1) exit(1);
        tmp = 1;
        if (setsockopt (s, SOL_SOCKET, SO_REUSEADDR,
                        (char *) &tmp, sizeof (tmp)) < 0)
            exit (1);
        if (bind(s, (struct sockaddr *)&my_sin, sizeof my_sin) == -1) {
            if (errno == EADDRINUSE) {
                close(s);
		continue;
            }
            exit(1);
        }
	if (listen(s, 5) == -1) exit(1);
#ifndef F_SETOWN
        exit(1);
#else
	if (fcntl(s, F_SETOWN, getpid()) == -1) exit(1);
        exit(0);
#endif
    }
    exit(1);
}

EOF
if { (eval echo configure:4837: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  lp_cv_prop_use_fcntl_setown=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  lp_cv_prop_use_fcntl_setown=no
fi
rm -fr conftest*
fi

fi

echo "$ac_t""$lp_cv_prop_use_fcntl_setown" 1>&6
if test $lp_cv_prop_use_fcntl_setown = yes; then
  cat >> confdefs.h <<\EOF
#define USE_FCNTL_SETOWN 1
EOF

fi

echo $ac_n "checking if OOBINLINE works""... $ac_c" 1>&6
echo "configure:4860: checking if OOBINLINE works" >&5
if eval "test \"`echo '$''{'lp_cv_prop_use_oobinline'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  lp_cv_prop_use_oobinline=unknown
else
  cat > conftest.$ac_ext <<EOF
#line 4868 "configure"
#include "confdefs.h"

#include <sys/types.h> /* needed for netinet/in.h */
#include <sys/socket.h>
#include <netinet/in.h>
#include <netdb.h>
#include <errno.h>
#include <fcntl.h>
#include <stdlib.h>
main() {
    int port, tmp, s;
    struct sockaddr_in my_sin;
    struct hostent *hp;
    char *host_name;

    host_name = malloc(100);
    if (gethostname(host_name, 100) == -1) exit(1);
    hp = gethostbyname(host_name);
    if (hp == 0) exit(1);
    memset((char *)&my_sin, '\0', sizeof my_sin);
    memcpy((char *)&my_sin.sin_addr, hp->h_addr, hp->h_length);
    my_sin.sin_family = hp->h_addrtype;
    my_sin.sin_addr.s_addr = INADDR_ANY;
    alarm(10);
    for (port = 2000; port < 10000; port++) {
        int on;
        my_sin.sin_port = htons((u_short)port);
        s = socket(hp->h_addrtype, SOCK_STREAM, 0);
        if (s == -1) exit(1);
        tmp = 1;
        if (setsockopt (s, SOL_SOCKET, SO_REUSEADDR,
                        (char *) &tmp, sizeof (tmp)) < 0)
            exit (1);
        if (bind(s, (struct sockaddr *)&my_sin, sizeof my_sin) == -1) {
            if (errno == EADDRINUSE) {
                close(s);
		continue;
            }
            exit(1);
        }
	if (listen(s, 5) == -1) exit(1);
#ifndef SO_OOBINLINE
        exit(1);
#else
        on = 1;
        if (setsockopt(s, SOL_SOCKET, SO_OOBINLINE, (char *)&on, sizeof on) == -1)
            exit(1);
        exit(0);
#endif
    }
    exit(1);
}

EOF
if { (eval echo configure:4923: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  lp_cv_prop_use_oobinline=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  lp_cv_prop_use_oobinline=no
fi
rm -fr conftest*
fi

fi

echo "$ac_t""$lp_cv_prop_use_oobinline" 1>&6
if test $lp_cv_prop_use_oobinline = yes; then
  cat >> confdefs.h <<\EOF
#define USE_OOBINLINE 1
EOF

fi


echo $ac_n "checking for overlapping bcopy""... $ac_c" 1>&6
echo "configure:4947: checking for overlapping bcopy" >&5
if eval "test \"`echo '$''{'lp_cv_prop_overlapping_bcopy'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  lp_cv_prop_overlapping_bcopy=yes
else
  cat > conftest.$ac_ext <<EOF
#line 4955 "configure"
#include "confdefs.h"

main(){
    char str[99] = "hello world";
    bcopy(str, str+2, 12);
    if(strcmp("hehello world", str))
	exit(1);
    bcopy(str+2, str, 11);
    if(strcmp("hello worldld", str))
	exit(1);
    exit(0);
}

EOF
if { (eval echo configure:4970: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  lp_cv_prop_overlapping_bcopy=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  lp_cv_prop_overlapping_bcopy=no
fi
rm -fr conftest*
fi

fi

echo "$ac_t""$lp_cv_prop_overlapping_bcopy" 1>&6
if test $lp_cv_prop_overlapping_bcopy = yes; then
  cat >> confdefs.h <<\EOF
#define OVERLAPPING_BCOPY 1
EOF

fi

echo $ac_n "checking if strtol needs const char*""... $ac_c" 1>&6
echo "configure:4993: checking if strtol needs const char*" >&5
if eval "test \"`echo '$''{'lp_cv_prop_strtol_const_charp'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 4998 "configure"
#include "confdefs.h"
#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
long strtol(str, ptr, base) char *str; char **ptr; int base; { return 0; }

int main() {

; return 0; }
EOF
if { (eval echo configure:5009: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  lp_cv_prop_strtol_const_charp=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  lp_cv_prop_strtol_const_charp=yes
fi
rm -f conftest*
fi

echo "$ac_t""$lp_cv_prop_strtol_const_charp" 1>&6
if test $lp_cv_prop_strtol_const_charp = yes; then
  cat >> confdefs.h <<\EOF
#define STRTOL_CONST_CHARP 1
EOF

fi


tcomp='${CC-cc} ${CFLAGS} ${TESTFLAG} -o conftest conftest.c >/dev/null 2>&1'
tcomp2='${CC-cc} ${CFLAGS} ${TESTFLAG} -o conftest conftest.c 2>&1'
tcomp3='${CC-cc} ${CFLAGS} ${TESTFLAG} -c conftest.c >/dev/null 2>&1'
cat > conftest.c <<EOF
#include <stdio.h>
double d = 4.5;
main() { printf("hello world\n"); }
EOF
echo $ac_n "checking medium optimization CFLAGS""... $ac_c" 1>&6
echo "configure:5039: checking medium optimization CFLAGS" >&5
for TESTFLAG in -O2 -O; do
  if eval $tcomp; then
    if echo `eval $tcomp2` | egrep '[uU]n(recognized|known) [oO]ption' >/dev/null; then
      :
      #the [e]grep option -v will not give a failure exit status on the atari
    else
      if eval $tcomp; then
        CFLAGS=$TESTFLAG
        break
      fi
    fi
  fi
done
for TESTFLAG in -qmaxmem=65536; do
  if eval $tcomp; then
    if echo `eval $tcomp2` | egrep '[uU]n(recognized|known) [oO]ption' >/dev/null; then
      :
      #the [e]grep option -v will not give a failure exit status on the atari
    else
      if eval $tcomp; then
        OPTFLAGS="$OPTFLAGS $TESTFLAG"
        CFLAGS="$CFLAGS $TESTFLAG"
        break
      fi
    fi
  fi
done
for TESTFLAG in -g -fstrength-reduce -fno-force-mem -fno-force-addr -fomit-default-branch; do
  if eval $tcomp; then
    OPTFLAGS="$OPTFLAGS $TESTFLAG"
    CFLAGS="$CFLAGS $TESTFLAG"
  fi
done
#if using gcc, inlining is already handled explicit. When explicit inlining
#is left out, this is usually done for a good reason. Use
# -print-libgcc-filename to test for gcc.
TESTFLAG='-print-libgcc-filename -O3 -fno-inline-functions'
if eval $tcomp; then
  if echo `eval $tcomp2` | egrep 'uUn(recognized|known) oOption' >/dev/null; then
    :
  else
    if eval $tcomp; then
      OPTFLAGS="$OPTFLAGS -fno-inline-functions"
      CFLAGS="$CFLAGS -fno-inline-functions"
    fi
  fi
fi
MCFLAGS=$CFLAGS
echo "$ac_t""$MCFLAGS" 1>&6

echo $ac_n "checking highest optimization CFLAGS""... $ac_c" 1>&6
echo "configure:5091: checking highest optimization CFLAGS" >&5
for TESTFLAG in -O4 -O3 -O2 -O; do
  if eval $tcomp; then
    if echo `eval $tcomp2` | egrep '[uU]n(recognized|known) [oO]ption' >/dev/null; then
      :
      #the [e]grep option -v will not give a failure exit status on the atari
    else
      if eval $tcomp; then
        CFLAGS=$TESTFLAG
        break
      fi
    fi
  fi
done
for TESTFLAG in -qstrict -qipa; do
  if eval $tcomp; then
    if echo `eval $tcomp2` | egrep '[uU]n(recognized|known) [oO]ption' >/dev/null; then
      :
      #the [e]grep option -v will not give a failure exit status on the atari
    else
      if eval $tcomp; then
        CFLAGS="$CFLAGS $TESTFLAG"
        break
      fi
    fi
  fi
done
for TESTFLAG in -fomit-frame-pointer; do
  if eval $tcomp; then
    CFLAGS="$CFLAGS $TESTFLAG"
  fi
done
OCFLAGS="$CFLAGS $OPTFLAGS"
echo "$ac_t""$OCFLAGS" 1>&6
if ${CC-cc} -g -c conftest.c ; then
  DCFLAGS='-g'
else
  DCFLAGS=''
fi
OPTIMIZE_LINKING=''
if ${CC-cc} $OFLAGS -o conftest conftest.c ; then
  OPTIMIZE_LINKING='$(OPTIMIZE)'
fi
rm -f conftest.c

if test $ac_cv_lib_socket_main = "yes"; then
cat > conftest.$ac_ext <<EOF
#line 5138 "configure"
#include "confdefs.h"

#if defined(sun)
yes
#endif

EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "yes" >/dev/null 2>&1; then
  rm -rf conftest*
   EXTRA_CFLAGS='-Dsolaris' 
fi
rm -f conftest*

fi

# Check whether --with-target or --without-target was given.
if test "${with_target+set}" = set; then
  withval="$with_target"
  EXTRA_CFLAGS="-D${withval}"
fi


echo $ac_n "checking if ${YACC} includes bogus malloc prototypes""... $ac_c" 1>&6
echo "configure:5163: checking if ${YACC} includes bogus malloc prototypes" >&5
cat > conftest.y <<EOF
%{
#include "confdefs.h"
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif
#if !defined(STDC_HEADERS) && defined(HAVE_MEMORY_H)
#include <memory.h>
#endif
#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
%}
%%
all: 'a';
%%
int main(){ return 0; }
void yyerror(){}
int yylex(){ return 0; }
EOF
rm -f y.tab.c y_tab.c
${YACC} conftest.y
if mv y.tab.c conftest.c > /dev/null 2>&1; then
  YACCTAB=y.tab.
else
  mv y_tab.c conftest.c
  YACCTAB=y_tab.
fi
if eval $compile; then
  MOVE_YACC_TAB='$(MV) $(YACCTAB)c'
  CLEAN_YACC_TAB=''
  echo "$ac_t""no" 1>&6
else
  MOVE_YACC_TAB='tail +2 $(YACCTAB)c >'
  CLEAN_YACC_TAB='$(RM) $(YACCTAB)c'
  echo "$ac_t""yes" 1>&6
fi
rm -f conftest*

echo $ac_n "checking for ${YACC} / <malloc.h> / -DSGI_SOURCE / afree name clash""... $ac_c" 1>&6
echo "configure:5204: checking for ${YACC} / <malloc.h> / -DSGI_SOURCE / afree name clash" >&5
cat > conftest.y <<EOF
%{
#include "confdefs.h"
#define afree free
%}
%%
all: 'a';
%%
int main(){ return 0; }
void yyerror(){}
int yylex(){ return 0; }
EOF
rm -f y.tab.c y_tab.c
${YACC} conftest.y
if mv y.tab.c conftest.c > /dev/null 2>&1; then
  YACCTAB=y.tab.
else
  mv y_tab.c conftest.c
  YACCTAB=y_tab.
fi
if eval $compile; then
  echo "$ac_t""no" 1>&6
else
  EXTRA_CFLAGS="${EXTRA_CFLAGS} -U_SGI_SOURCE"
  echo "$ac_t""yes" 1>&6
fi
rm -f conftest*


SAVE_LIBS="${LIBS}"
SAVE_CFLAGS="${CFLAGS}"
CFLAGS=''
for TESTFLAG in '' -static -Bstatic -n; do
echo $ac_n "checking malloc redefinition with linking flag ${TESTFLAG}""... $ac_c" 1>&6
echo "configure:5239: checking malloc redefinition with linking flag ${TESTFLAG}" >&5
LIBS="${SAVE_LIBS} ${TESTFLAG}"
cat > conftest.data <<EOF
42
EOF
if test "$cross_compiling" = yes; then
    { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
else
  cat > conftest.$ac_ext <<EOF
#line 5248 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <stdio.h>
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif
#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_STRING_H
#include <string.h>
#else
#include <strings.h>
#endif
#if !defined(STDC_HEADERS) && defined(HAVE_MEMORY_H)
#include <memory.h>
#endif
#undef malloc
#undef calloc
int my_malloc_used;
int main() {
    int i, j;
    FILE *f;

    alarm(10); /* a crash can be an infinite loop... */
    for (i = 0; i < 100; i++) {
	my_malloc_used = 0;
	/* strdup seems to be partially unavailable */
	f = fopen("conftest.data", "r");
	fscanf(f, "%d", &j);
	fclose(f);
	if (!my_malloc_used || j != 6*7) exit(1);
    }
    /* linking in printf called with variable format makes shared libs
     * worthwhile. Moreover, calling it is a good test
     */
    printf(f?"%f%% successful\n":(char*)f, 100.);
    exit(0);
}
POINTER malloc(size)
    size_t size;
{
    size_t size2;
    static char *current_break = 0;
    char *q;

    my_malloc_used = 1;
    if (!current_break)
      current_break = sbrk(0);
    size2 = sizeof size + size+7 & ~7;
    q = current_break;
    if (brk(current_break+=size2)) exit(1);
    *(size_t *)q = size;
    return q + sizeof size;
}
POINTER calloc(size, num)
    size_t size, num;
{
    char *q;
    q = malloc(size*num);
    memset(q, 0, size);
}
POINTER realloc(p, size)
    POINTER p;
    size_t size;
{
    char *q;
    if (*(size_t *)p >= size)
        return p;
    q = malloc(size);
#ifdef HAVE_MEMCPY
    memcpy(q, p, size);
#else
    bcopy(p, q, size);
#endif
    *(size_t *)q = size;
    return q + sizeof size;
}
#ifdef FREE_RETURNS_VOID
void free(p)
    POINTER p;
{}
#else
int free(p)
    POINTER p;
{ return 1; }
#endif

EOF
if { (eval echo configure:5339: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  SBRK_OK=1
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
fi
rm -fr conftest*
fi

if test -n "${SBRK_OK}"; then
  if test -z "${TESTFLAG}"; then
    cat >> confdefs.h <<\EOF
#define SBRK_OK 1
EOF

  else
    LDFLAGS="${LDFLAGS} ${TESTFLAG}"
    EXTRA_CFLAGS="${EXTRA_CFLAGS} -DSBRK_OK"
  fi
  break
  echo "$ac_t""ok" 1>&6
else
  echo "$ac_t""failed" 1>&6
fi
done

LIBS="${SAVE_LIBS}"
CFLAGS="${SAVE_CFLAGS}"
case "$EXTRA_CFLAGS" in
 *-Dsolaris*)
  if test $ac_cv_lib_ucb_main = "yes"; then
      LIBS="${LDFLAGS} -lm -lgcc -lc -lnsl -lgcc -lc -ldl_stubs\
        -lnswnis -lnswnisplus -lnswfiles -lnswcompat -lstraddr -lswitch\
        -ltcpip -lsocket -lnsl -lgcc -lc /usr/ucblib/libucb.a"
      LDFLAGS= "-u dgettext -lintl"
  fi ;;
esac
if test "$cross_compiling" = yes; then
    { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
else
  cat > conftest.$ac_ext <<EOF
#line 5381 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <stdio.h>
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif
#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_STRING_H
#include <string.h>
#else
#include <strings.h>
#endif
#if !defined(STDC_HEADERS) && defined(HAVE_MEMORY_H)
#include <memory.h>
#endif
int main(){
    free((char *)0); /* linux libc 4.5.19 does this in fclose() */
    exit(0);
    return 0;
}

EOF
if { (eval echo configure:5407: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  cat >> confdefs.h <<\EOF
#define FREE_NULL_POINTER 1
EOF

else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
fi
rm -fr conftest*
fi


echo $ac_n "checking malloc overhead""... $ac_c" 1>&6
echo "configure:5422: checking malloc overhead" >&5
if eval "test \"`echo '$''{'lp_cv_sys_malloc_overhead'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.c <<EOF
#include "confdefs.h"
#include "${srcdir}/util/overhead.c"
EOF
${CC-cc} -o conftest conftest.c
lp_cv_sys_malloc_overhead=`./conftest --terse`
rm -f conftest*

fi

echo "$ac_t""$lp_cv_sys_malloc_overhead" 1>&6
cat >> confdefs.h <<EOF
#define EXTERN_MALLOC_OVERHEAD $lp_cv_sys_malloc_overhead
EOF


if test -z "${CONFIG_SHELL}"; then
  CONFIG_SHELL='/bin/sh'
fi
if test "${OSTYPE}" = 'win32'; then
  EXEEXT='.exe'
  cat >> confdefs.h <<\EOF
#define HOST_INCLUDE "hosts/GnuWin32/GnuWin32.h"
EOF

fi






















































































trap '' 1 2 15
cat > confcache <<\EOF
# This file is a shell script that caches the results of configure
# tests run on this system so they can be shared between configure
# scripts and configure runs.  It is not useful on other systems.
# If it contains results you don't want to keep, you may remove or edit it.
#
# By default, configure uses ./config.cache as the cache file,
# creating it if it does not exist already.  You can give configure
# the --cache-file=FILE option to use a different cache file; that is
# what configure does when it calls configure scripts in
# subdirectories, so they share the cache.
# Giving --cache-file=/dev/null disables caching, for debugging configure.
# config.status only pays attention to the cache file if you give it the
# --recheck option to rerun configure.
#
EOF
# The following way of writing the cache mishandles newlines in values,
# but we know of no workaround that is simple, portable, and efficient.
# So, don't put newlines in cache variables' values.
# Ultrix sh set writes to stderr and can't be redirected directly,
# and sets the high bit in the cache file unless we assign to the vars.
(set) 2>&1 |
  case `(ac_space=' '; set | grep ac_space) 2>&1` in
  *ac_space=\ *)
    # `set' does not quote correctly, so add quotes (double-quote substitution
    # turns \\\\ into \\, and sed turns \\ into \).
    sed -n \
      -e "s/'/'\\\\''/g" \
      -e "s/^\\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\\)=\\(.*\\)/\\1=\${\\1='\\2'}/p"
    ;;
  *)
    # `set' quotes correctly as required by POSIX, so do not add quotes.
    sed -n -e 's/^\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\)=\(.*\)/\1=${\1=\2}/p'
    ;;
  esac >> confcache
if cmp -s $cache_file confcache; then
  :
else
  if test -w $cache_file; then
    echo "updating cache $cache_file"
    cat confcache > $cache_file
  else
    echo "not updating unwritable cache $cache_file"
  fi
fi
rm -f confcache

trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15

test "x$prefix" = xNONE && prefix=$ac_default_prefix
# Let make expand exec_prefix.
test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'

# Any assignment to VPATH causes Sun make to only execute
# the first set of double-colon rules, so remove it if not needed.
# If there is a colon in the path, we need to keep it.
if test "x$srcdir" = x.; then
  ac_vpsub='/^[ 	]*VPATH[ 	]*=[^:]*$/d'
fi

trap 'rm -f $CONFIG_STATUS conftest*; exit 1' 1 2 15

DEFS=-DHAVE_CONFIG_H

# Without the "./", some shells look in PATH for config.status.
: ${CONFIG_STATUS=./config.status}

echo creating $CONFIG_STATUS
rm -f $CONFIG_STATUS
cat > $CONFIG_STATUS <<EOF
#! /bin/sh
# Generated automatically by configure.
# Run this file to recreate the current configuration.
# This directory was configured as follows,
# on host `(hostname || uname -n) 2>/dev/null | sed 1q`:
#
# $0 $ac_configure_args
#
# Compiler output produced by configure, useful for debugging
# configure, is in ./config.log if it exists.

ac_cs_usage="Usage: $CONFIG_STATUS [--recheck] [--version] [--help]"
for ac_option
do
  case "\$ac_option" in
  -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
    echo "running \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion"
    exec \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion ;;
  -version | --version | --versio | --versi | --vers | --ver | --ve | --v)
    echo "$CONFIG_STATUS generated by autoconf version 2.13"
    exit 0 ;;
  -help | --help | --hel | --he | --h)
    echo "\$ac_cs_usage"; exit 0 ;;
  *) echo "\$ac_cs_usage"; exit 1 ;;
  esac
done

ac_given_srcdir=$srcdir
ac_given_INSTALL="$INSTALL"

trap 'rm -fr `echo "Makefile config.h util/Makefile util/indent/Makefile
util/xerq/Makefile util/erq/Makefile machine.h" | sed "s/:[^ ]*//g"` conftest*; exit 1' 1 2 15
EOF
cat >> $CONFIG_STATUS <<EOF

# Protect against being on the right side of a sed subst in config.status.
sed 's/%@/@@/; s/@%/@@/; s/%g\$/@g/; /@g\$/s/[\\\\&%]/\\\\&/g;
 s/@@/%@/; s/@@/@%/; s/@g\$/%g/' > conftest.subs <<\\CEOF
$ac_vpsub
$extrasub
s%@SHELL@%$SHELL%g
s%@CFLAGS@%$CFLAGS%g
s%@CPPFLAGS@%$CPPFLAGS%g
s%@CXXFLAGS@%$CXXFLAGS%g
s%@FFLAGS@%$FFLAGS%g
s%@DEFS@%$DEFS%g
s%@LDFLAGS@%$LDFLAGS%g
s%@LIBS@%$LIBS%g
s%@exec_prefix@%$exec_prefix%g
s%@prefix@%$prefix%g
s%@program_transform_name@%$program_transform_name%g
s%@bindir@%$bindir%g
s%@sbindir@%$sbindir%g
s%@libexecdir@%$libexecdir%g
s%@datadir@%$datadir%g
s%@sysconfdir@%$sysconfdir%g
s%@sharedstatedir@%$sharedstatedir%g
s%@localstatedir@%$localstatedir%g
s%@libdir@%$libdir%g
s%@includedir@%$includedir%g
s%@oldincludedir@%$oldincludedir%g
s%@infodir@%$infodir%g
s%@mandir@%$mandir%g
s%@CC@%$CC%g
s%@INSTALL_PROGRAM@%$INSTALL_PROGRAM%g
s%@INSTALL_SCRIPT@%$INSTALL_SCRIPT%g
s%@INSTALL_DATA@%$INSTALL_DATA%g
s%@YACC@%$YACC%g
s%@CPP@%$CPP%g
s%@ALLOCA@%$ALLOCA%g
s%@OCFLAGS@%$OCFLAGS%g
s%@MCFLAGS@%$MCFLAGS%g
s%@DCFLAGS@%$DCFLAGS%g
s%@EXTRA_CFLAGS@%$EXTRA_CFLAGS%g
s%@OPTIMIZE_LINKING@%$OPTIMIZE_LINKING%g
s%@MOVE_YACC_TAB@%$MOVE_YACC_TAB%g
s%@CLEAN_YACC_TAB@%$CLEAN_YACC_TAB%g
s%@YACCTAB@%$YACCTAB%g
s%@CONFIG_SHELL@%$CONFIG_SHELL%g
s%@EXEEXT@%$EXEEXT%g
s%@cdef_erq_demon@%$cdef_erq_demon%g
s%@cdef_access_control@%$cdef_access_control%g
s%@cdef_access_log@%$cdef_access_log%g
s%@cdef_align_functions@%$cdef_align_functions%g
s%@cdef_compat_mode@%$cdef_compat_mode%g
s%@cdef_strict_euids@%$cdef_strict_euids%g
s%@cdef_supply_parse_command@%$cdef_supply_parse_command%g
s%@cdef_initialization_by___init@%$cdef_initialization_by___init%g
s%@cdef_use_system_crypt@%$cdef_use_system_crypt%g
s%@cdef_udp_send@%$cdef_udp_send%g
s%@cdef_use_ipv6@%$cdef_use_ipv6%g
s%@cdef_use_mysql@%$cdef_use_mysql%g
s%@cdef_lpc_nosave@%$cdef_lpc_nosave%g
s%@cdef_comm_stat@%$cdef_comm_stat%g
s%@cdef_apply_cache_stat@%$cdef_apply_cache_stat%g
s%@cdef_malloc_trace@%$cdef_malloc_trace%g
s%@cdef_malloc_lpc_trace@%$cdef_malloc_lpc_trace%g
s%@cdef_dynamic_costs@%$cdef_dynamic_costs%g
s%@cdef_min_malloced@%$cdef_min_malloced%g
s%@cdef_max_malloced@%$cdef_max_malloced%g
s%@cdef_catch_udp_port@%$cdef_catch_udp_port%g
s%@cdef_rxcache_table@%$cdef_rxcache_table%g
s%@val_access_file@%$val_access_file%g
s%@val_access_log@%$val_access_log%g
s%@val_erq_max_reply@%$val_erq_max_reply%g
s%@val_erq_max_send@%$val_erq_max_send%g
s%@val_read_file_max_size@%$val_read_file_max_size%g
s%@val_time_to_clean_up@%$val_time_to_clean_up%g
s%@val_time_to_swap@%$val_time_to_swap%g
s%@val_time_to_swap_variables@%$val_time_to_swap_variables%g
s%@val_time_to_reset@%$val_time_to_reset%g
s%@val_evaluator_stack_size@%$val_evaluator_stack_size%g
s%@val_max_user_trace@%$val_max_user_trace%g
s%@val_max_trace@%$val_max_trace%g
s%@val_compiler_stack_size@%$val_compiler_stack_size%g
s%@val_max_bits@%$val_max_bits%g
s%@val_portno@%$val_portno%g
s%@val_maxnumports@%$val_maxnumports%g
s%@val_max_cost@%$val_max_cost%g
s%@val_max_local@%$val_max_local%g
s%@val_catch_reserved_cost@%$val_catch_reserved_cost%g
s%@val_master_reserved_cost@%$val_master_reserved_cost%g
s%@val_swap_file@%$val_swap_file%g
s%@val_max_array_size@%$val_max_array_size%g
s%@val_max_mapping_size@%$val_max_mapping_size%g
s%@val_max_players@%$val_max_players%g
s%@val_allowed_ed_cmds@%$val_allowed_ed_cmds%g
s%@val_reserved_user_size@%$val_reserved_user_size%g
s%@val_reserved_master_size@%$val_reserved_master_size%g
s%@val_reserved_system_size@%$val_reserved_system_size%g
s%@val_htable_size@%$val_htable_size%g
s%@val_itable_size@%$val_itable_size%g
s%@val_otable_size@%$val_otable_size%g
s%@val_defmax@%$val_defmax%g
s%@val_apply_cache_bits@%$val_apply_cache_bits%g
s%@val_rxcache_table@%$val_rxcache_table%g
s%@val_master_name@%$val_master_name%g
s%@val_max_byte_transfer@%$val_max_byte_transfer%g
s%@val_catch_udp_port@%$val_catch_udp_port%g
s%@val_set_buffer_size_max@%$val_set_buffer_size_max%g
s%@val_malloc@%$val_malloc%g
s%@val_min_malloced@%$val_min_malloced%g
s%@val_max_malloced@%$val_max_malloced%g
s%@val_total_trace_length@%$val_total_trace_length%g
s%@erq_sub@%$erq_sub%g
s%@PKGLIBS@%$PKGLIBS%g

CEOF
EOF

cat >> $CONFIG_STATUS <<\EOF

# Split the substitutions into bite-sized pieces for seds with
# small command number limits, like on Digital OSF/1 and HP-UX.
ac_max_sed_cmds=90 # Maximum number of lines to put in a sed script.
ac_file=1 # Number of current file.
ac_beg=1 # First line for current file.
ac_end=$ac_max_sed_cmds # Line after last line for current file.
ac_more_lines=:
ac_sed_cmds=""
while $ac_more_lines; do
  if test $ac_beg -gt 1; then
    sed "1,${ac_beg}d; ${ac_end}q" conftest.subs > conftest.s$ac_file
  else
    sed "${ac_end}q" conftest.subs > conftest.s$ac_file
  fi
  if test ! -s conftest.s$ac_file; then
    ac_more_lines=false
    rm -f conftest.s$ac_file
  else
    if test -z "$ac_sed_cmds"; then
      ac_sed_cmds="sed -f conftest.s$ac_file"
    else
      ac_sed_cmds="$ac_sed_cmds | sed -f conftest.s$ac_file"
    fi
    ac_file=`expr $ac_file + 1`
    ac_beg=$ac_end
    ac_end=`expr $ac_end + $ac_max_sed_cmds`
  fi
done
if test -z "$ac_sed_cmds"; then
  ac_sed_cmds=cat
fi
EOF

cat >> $CONFIG_STATUS <<EOF

CONFIG_FILES=\${CONFIG_FILES-"Makefile config.h util/Makefile util/indent/Makefile
util/xerq/Makefile util/erq/Makefile"}
EOF
cat >> $CONFIG_STATUS <<\EOF
for ac_file in .. $CONFIG_FILES; do if test "x$ac_file" != x..; then
  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
  case "$ac_file" in
  *:*) ac_file_in=`echo "$ac_file"|sed 's%[^:]*:%%'`
       ac_file=`echo "$ac_file"|sed 's%:.*%%'` ;;
  *) ac_file_in="${ac_file}.in" ;;
  esac

  # Adjust a relative srcdir, top_srcdir, and INSTALL for subdirectories.

  # Remove last slash and all that follows it.  Not all systems have dirname.
  ac_dir=`echo $ac_file|sed 's%/[^/][^/]*$%%'`
  if test "$ac_dir" != "$ac_file" && test "$ac_dir" != .; then
    # The file is in a subdirectory.
    test ! -d "$ac_dir" && mkdir "$ac_dir"
    ac_dir_suffix="/`echo $ac_dir|sed 's%^\./%%'`"
    # A "../" for each directory in $ac_dir_suffix.
    ac_dots=`echo $ac_dir_suffix|sed 's%/[^/]*%../%g'`
  else
    ac_dir_suffix= ac_dots=
  fi

  case "$ac_given_srcdir" in
  .)  srcdir=.
      if test -z "$ac_dots"; then top_srcdir=.
      else top_srcdir=`echo $ac_dots|sed 's%/$%%'`; fi ;;
  /*) srcdir="$ac_given_srcdir$ac_dir_suffix"; top_srcdir="$ac_given_srcdir" ;;
  *) # Relative path.
    srcdir="$ac_dots$ac_given_srcdir$ac_dir_suffix"
    top_srcdir="$ac_dots$ac_given_srcdir" ;;
  esac

  case "$ac_given_INSTALL" in
  [/$]*) INSTALL="$ac_given_INSTALL" ;;
  *) INSTALL="$ac_dots$ac_given_INSTALL" ;;
  esac

  echo creating "$ac_file"
  rm -f "$ac_file"
  configure_input="Generated automatically from `echo $ac_file_in|sed 's%.*/%%'` by configure."
  case "$ac_file" in
  *Makefile*) ac_comsub="1i\\
# $configure_input" ;;
  *) ac_comsub= ;;
  esac

  ac_file_inputs=`echo $ac_file_in|sed -e "s%^%$ac_given_srcdir/%" -e "s%:% $ac_given_srcdir/%g"`
  sed -e "$ac_comsub
s%@configure_input@%$configure_input%g
s%@srcdir@%$srcdir%g
s%@top_srcdir@%$top_srcdir%g
s%@INSTALL@%$INSTALL%g
" $ac_file_inputs | (eval "$ac_sed_cmds") > $ac_file
fi; done
rm -f conftest.s*

# These sed commands are passed to sed as "A NAME B NAME C VALUE D", where
# NAME is the cpp macro being defined and VALUE is the value it is being given.
#
# ac_d sets the value in "#define NAME VALUE" lines.
ac_dA='s%^\([ 	]*\)#\([ 	]*define[ 	][ 	]*\)'
ac_dB='\([ 	][ 	]*\)[^ 	]*%\1#\2'
ac_dC='\3'
ac_dD='%g'
# ac_u turns "#undef NAME" with trailing blanks into "#define NAME VALUE".
ac_uA='s%^\([ 	]*\)#\([ 	]*\)undef\([ 	][ 	]*\)'
ac_uB='\([ 	]\)%\1#\2define\3'
ac_uC=' '
ac_uD='\4%g'
# ac_e turns "#undef NAME" without trailing blanks into "#define NAME VALUE".
ac_eA='s%^\([ 	]*\)#\([ 	]*\)undef\([ 	][ 	]*\)'
ac_eB='$%\1#\2define\3'
ac_eC=' '
ac_eD='%g'

if test "${CONFIG_HEADERS+set}" != set; then
EOF
cat >> $CONFIG_STATUS <<EOF
  CONFIG_HEADERS="machine.h"
EOF
cat >> $CONFIG_STATUS <<\EOF
fi
for ac_file in .. $CONFIG_HEADERS; do if test "x$ac_file" != x..; then
  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
  case "$ac_file" in
  *:*) ac_file_in=`echo "$ac_file"|sed 's%[^:]*:%%'`
       ac_file=`echo "$ac_file"|sed 's%:.*%%'` ;;
  *) ac_file_in="${ac_file}.in" ;;
  esac

  echo creating $ac_file

  rm -f conftest.frag conftest.in conftest.out
  ac_file_inputs=`echo $ac_file_in|sed -e "s%^%$ac_given_srcdir/%" -e "s%:% $ac_given_srcdir/%g"`
  cat $ac_file_inputs > conftest.in

EOF

# Transform confdefs.h into a sed script conftest.vals that substitutes
# the proper values into config.h.in to produce config.h.  And first:
# Protect against being on the right side of a sed subst in config.status.
# Protect against being in an unquoted here document in config.status.
rm -f conftest.vals
cat > conftest.hdr <<\EOF
s/[\\&%]/\\&/g
s%[\\$`]%\\&%g
s%#define \([A-Za-z_][A-Za-z0-9_]*\) *\(.*\)%${ac_dA}\1${ac_dB}\1${ac_dC}\2${ac_dD}%gp
s%ac_d%ac_u%gp
s%ac_u%ac_e%gp
EOF
sed -n -f conftest.hdr confdefs.h > conftest.vals
rm -f conftest.hdr

# This sed command replaces #undef with comments.  This is necessary, for
# example, in the case of _POSIX_SOURCE, which is predefined and required
# on some systems where configure will not decide to define it.
cat >> conftest.vals <<\EOF
s%^[ 	]*#[ 	]*undef[ 	][ 	]*[a-zA-Z_][a-zA-Z_0-9]*%/* & */%
EOF

# Break up conftest.vals because some shells have a limit on
# the size of here documents, and old seds have small limits too.

rm -f conftest.tail
while :
do
  ac_lines=`grep -c . conftest.vals`
  # grep -c gives empty output for an empty file on some AIX systems.
  if test -z "$ac_lines" || test "$ac_lines" -eq 0; then break; fi
  # Write a limited-size here document to conftest.frag.
  echo '  cat > conftest.frag <<CEOF' >> $CONFIG_STATUS
  sed ${ac_max_here_lines}q conftest.vals >> $CONFIG_STATUS
  echo 'CEOF
  sed -f conftest.frag conftest.in > conftest.out
  rm -f conftest.in
  mv conftest.out conftest.in
' >> $CONFIG_STATUS
  sed 1,${ac_max_here_lines}d conftest.vals > conftest.tail
  rm -f conftest.vals
  mv conftest.tail conftest.vals
done
rm -f conftest.vals

cat >> $CONFIG_STATUS <<\EOF
  rm -f conftest.frag conftest.h
  echo "/* $ac_file.  Generated automatically by configure.  */" > conftest.h
  cat conftest.in >> conftest.h
  rm -f conftest.in
  if cmp -s $ac_file conftest.h 2>/dev/null; then
    echo "$ac_file is unchanged"
    rm -f conftest.h
  else
    # Remove last slash and all that follows it.  Not all systems have dirname.
      ac_dir=`echo $ac_file|sed 's%/[^/][^/]*$%%'`
      if test "$ac_dir" != "$ac_file" && test "$ac_dir" != .; then
      # The file is in a subdirectory.
      test ! -d "$ac_dir" && mkdir "$ac_dir"
    fi
    rm -f $ac_file
    mv conftest.h $ac_file
  fi
fi; done

EOF
cat >> $CONFIG_STATUS <<EOF

EOF
cat >> $CONFIG_STATUS <<\EOF

exit 0
EOF
chmod +x $CONFIG_STATUS
rm -fr confdefs* $ac_clean_files
test "$no_create" = yes || ${CONFIG_SHELL-/bin/sh} $CONFIG_STATUS || exit 1

