# TODO: Add some of the symbols in here to configure
# These lines are needed on some machines.
MAKE=make
SHELL=@CONFIG_SHELL@
INSTALL=@INSTALL@
mkinstalldirs=$(SHELL) @top_srcdir@/mkinstalldirs
#
CC=@CC@
#
YACC = @YACC@
YACCTAB = @YACCTAB@
#
RM = rm -f
MV = mv
CP = cp
#
# some standard stuff...
prefix= @prefix@
exec_prefix= @exec_prefix@
#
#
# Set MUD_LIB to the directory which contains the mud data. Was formerly
# defined in config.h !
MUD_LIB = @libdir@
#
# Set BINDIR to the directory where you want to install the executables.
BINDIR = @bindir@
#
# Set ERQ_DIR to directory which contains the stuff which ERQ can
# execute (hopefully) savely. Was formerly defined in config.h!
ERQ_DIR= @libexecdir@
#
# Typical profiling, warning and optimizing options.
#   -p -DMARK: together they enable the profiling of VM instructions.
#   Additional profiling can be activated in config.h .
#PROFIL=-p -DMARK
#PROFIL=-pg
PROFIL=
#Enable warnings from the compiler, if wanted.
WARN= # no warning options - will work with all compilers :-)
#WARN= -Wall -Wshadow
#WARN= -Wall -Wshadow -Wparentheses # gcc settings
#
# Optimization and source level debugging options.
# adding a -fomit-frame-pointer on the NeXT (gcc version 1.93 (68k, MIT syntax))
# will corrupt the driver.
#OPTIMIZE = @OCFLAGS@ # high optimization
OPTIMIZE= @MCFLAGS@ # medium optimization
#OPTIMIZE = @LCFLAGS@ # minimal optimization
#OPTIMIZE= @DCFLAGS@ # no optimization; for frequent recompilations.
#
# Debugging options:
#   Debugging options should be set in config.h to guarantee a clean
#   recompile.
#DEBUG = -DDEBUG # -DDEBUG_TELNET
DEBUG=
#
MPATH=-DMUD_LIB='"$(MUD_LIB)"' -DBINDIR='"$(BINDIR)"' -DERQ_DIR='"$(ERQ_DIR)"'
#
CFLAGS= @EXTRA_CFLAGS@ $(OPTIMIZE) $(DEBUG) $(WARN) $(MPATH) $(PROFIL)
#
LIBS=@LIBS@ @PKGLIBS@
#
LDFLAGS=@LDFLAGS@
#
#Note that, if you use smalloc with SBRK_OK(which is the default), and
#don't link statically, it could happen that the system malloc is linked
#along with the one from smalloc; this combination is bound to cause crashes.
MFLAGS = "BINDIR=$(BINDIR)" "MUD_LIB=$(MUD_LIB)"
#
SRC = access_check.c actions.c array.c backend.c bitstrings.c call_out.c \
      closure.c comm.c \
      dumpstat.c ed.c efuns.c files.c gcollect.c hash.c heartbeat.c \
      interpret.c \
      lex.c main.c mapping.c md5.c mempools.c mregex.c mstrings.c object.c \
      otable.c\
      parser.c parse.c parse_old.c pkg-alists.c pkg-mysql.c pkg-pcre.c port.c \
      ptrtable.c \
      random.c regexp.c simulate.c simul_efun.c stdstrings.c \
      strfuns.c sprintf.c swap.c wiz_list.c xalloc.c 
OBJ = access_check.o actions.o array.o backend.o bitstrings.o call_out.o \
      closure.o comm.o \
      dumpstat.o ed.o efuns.o files.o gcollect.o hash.o heartbeat.o \
      interpret.o \
      lex.o main.o mapping.o md5.o mempools.o mregex.o mstrings.o object.o \
      otable.o \
      parser.o parse.o parse_old.o pkg-alists.o pkg-mysql.o pkg-pcre.o port.o \
      ptrtable.o \
      random.o regexp.o simulate.o simul_efun.o stdstrings.o \
      strfuns.o sprintf.o swap.o wiz_list.o xalloc.o @ALLOCA@ 

driver: $(OBJ)
	$(CC) @OPTIMIZE_LINKING@ $(LDFLAGS) $(OBJ) -o $@ $(LIBS)

install: driver
	$(mkinstalldirs) $(BINDIR)
	$(INSTALL) -c $? $(BINDIR)/driver

install-utils:
	(cd util; $(MAKE) $(MFLAGS) install)

utils:
	(cd util; $(MAKE) $(MFLAGS))

lint: *.c
	lint *.c

clean:
	$(RM) $(YACCTAB)h $(YACCTAB)c make_func.c *.o mkfunc@EXEEXT@
	$(RM) dftables@EXEEXT@ pcre/chartables.c
	$(RM) stdstrings.c stdstrings.h
	$(RM) efun_defs.c instrs.h lang.y lang.h lang.c y.output tags TAGS
	$(RM) driver core mudlib/core mudlib/debug.log lpmud.log driver
	(cd util ; echo "Cleaning in util." ; $(MAKE) clean)

distclean: clean
	$(RM) driver config.status machine.h Makefile config.cache config.log
	$(RM) config.h config.status config.status.old
	$(RM) util/Makefile util/erq/Makefile util/xerq/Makefile

tags: $(SRC)
	ctags $(SRC)

TAGS: $(SRC)
	etags $(SRC)

make_func.c: make_func.y
	$(YACC) make_func.y
	@MOVE_YACC_TAB@ make_func.c
	@CLEAN_YACC_TAB@

mkfunc.o : mkfunc.c make_func.c driver.h config.h machine.h port.h
	  $(CC) $(CFLAGS) -DYACC='"$(YACC)"' -c mkfunc.c

mkfunc@EXEEXT@: mkfunc.o hash.o exec.h
	$(CC) @OPTIMIZE_LINKING@ $(LDFLAGS) mkfunc.o hash.o -o mkfunc@EXEEXT@

dftables.o : pcre/dftables.c pcre/maketables.c pcre/config.h
	$(CC) $(CFLAGS) -c pcre/dftables.c -o dftables.o

dftables@EXEEXT@ : dftables.o
	$(CC) @OPTIMIZE_LINKING@ $(LDFLAGS) dftables.o -o dftables@EXEEXT@

lang.y: mkfunc@EXEEXT@ prolang.y config.h
	$(RM) lang.y
	./mkfunc@EXEEXT@ lang

efun_defs.c instrs.h: func_spec mkfunc@EXEEXT@ config.h
	$(RM) instrs.h
	$(RM) efun_defs.c
	./mkfunc@EXEEXT@ instrs

stdstrings.c stdstrings.h: string_spec mkfunc@EXEEXT@ config.h
	$(RM) stdstrings.c
	$(RM) stdstrings.h
	./mkfunc@EXEEXT@ strings

lang.c lang.h: lang.y
	$(YACC) -d -v lang.y
	@MOVE_YACC_TAB@ lang.c
	@CLEAN_YACC_TAB@
	$(MV) $(YACCTAB)h lang.h

pcre/chartables.c : dftables@EXEEXT@
	./dftables@EXEEXT@ > pcre/chartables.c

#--------------------------------------------------------
# The dependency generation uses the program 'mkdepend' and assumes GNUmake.

# Generated source files (overlaps with of SRC) which need to be
# present for mkdepend to work.
    GENSRC = make_func.c stdstrings.c lang.c instrs.h pcre/chartables.c

# Macros for MkDepend:
    SKELETON = $(SRC) mkfunc.c pcre/dftables.c
    EXCEPT = -x efun_defs.c
    SELECT = -S instrs.h -S stdstrings.h -S make_func.c -S lang.c -S lang.h -S efun_defs.c

depend: $(SRC) $(GENSRC)
	@$(SHELL) -ec "if type mkdepend > /dev/null 2>&1; then \
          echo Updating dependencies.; \
          mkdepend $(SKELETON) -I. $(EXCEPT) -m -p .c:%n.o -fMakefile; \
          mkdepend $(SKELETON) -I. $(EXCEPT) $(SELECT) -m -p .c:%n.o -fMakefile; \
          echo Updating dependencies in Makefile.in.; \
          mkdepend $(SKELETON) -I. $(EXCEPT) -m -p .c:%n.o -fMakefile.in; \
          mkdepend $(SKELETON) -I. $(EXCEPT) $(SELECT) -m -p .c:%n.o -fMakefile.in; \
        else\
          echo mkdepend utility not available.; \
        fi"

.PHONY dependall: depend depend-generic

depend-generic: $(SRC) $(GENSRC)
	@$(SHELL) -ec "if type mkdepend > /dev/null 2>&1; then \
          echo Updating dependencies in hosts/be/Makefile.; \
          mkdepend $(SKELETON) -I. $(EXCEPT) -m -p .c:$$\(OBJ\)/%n.o -fhosts/be/Makefile; \
          mkdepend $(SKELETON) -I. $(EXCEPT) $(SELECT) -m -p .c:$$\(OBJ\)/%n.o -fhosts/be/Makefile; \
          echo Updating dependencies in hosts/os2/Makefile.; \
          mkdepend $(SKELETON) -I. $(EXCEPT) -m -p .c:%n.o -fhosts/os2/Makefile; \
          mkdepend $(SKELETON) $(SELECT) -I. $(EXCEPT) -m -p .c:%n.o -fhosts/os2/Makefile; \
        else\
          echo mkdepend utility not available.; \
        fi"


#--------------------------------------------------------
# Dependencies, manual and automatic.

# --- DO NOT MODIFY THIS LINE -- AUTO-DEPENDS FOLLOW ---
access_check.o : xalloc.h filestat.h comm.h access_check.h driver.h \
    svalue.h simulate.h typedefs.h config.h port.h strfuns.h sent.h exec.h \
    hosts/unix.h hosts/be/be.h machine.h

actions.o : ../mudlib/sys/driver_hook.h ../mudlib/sys/commands.h xalloc.h \
    wiz_list.h svalue.h simulate.h sent.h stdstrings.h object.h mstrings.h \
    mapping.h interpret.h exec.h efuns.h dumpstat.h comm.h closure.h \
    backend.h array.h actions.h typedefs.h driver.h strfuns.h instrs.h \
    main.h port.h config.h hosts/unix.h hosts/be/be.h machine.h

array.o : xalloc.h wiz_list.h swap.h svalue.h simulate.h stdstrings.h \
    object.h mstrings.h mregex.h mempools.h mapping.h main.h interpret.h \
    closure.h backend.h array.h my-alloca.h typedefs.h driver.h strfuns.h \
    sent.h exec.h instrs.h regexp.h pcre/pcre.h port.h config.h \
    hosts/unix.h hosts/be/be.h machine.h

backend.o : ../mudlib/sys/debug_message.h ../mudlib/sys/driver_hook.h \
    xalloc.h wiz_list.h swap.h svalue.h stdstrings.h simulate.h random.h \
    otable.h object.h mstrings.h mregex.h mapping.h main.h lex.h \
    interpret.h heartbeat.h gcollect.h filestat.h exec.h ed.h comm.h \
    closure.h call_out.h array.h actions.h backend.h my-alloca.h typedefs.h \
    driver.h strfuns.h sent.h instrs.h regexp.h pcre/pcre.h port.h config.h \
    hosts/unix.h hosts/be/be.h machine.h

bitstrings.o : xalloc.h svalue.h simulate.h mstrings.h main.h lex.h \
    interpret.h bitstrings.h typedefs.h driver.h strfuns.h sent.h exec.h \
    instrs.h port.h config.h hosts/unix.h hosts/be/be.h machine.h

call_out.o : ../mudlib/sys/debug_info.h xalloc.h wiz_list.h swap.h svalue.h \
    strfuns.h stdstrings.h simulate.h object.h mstrings.h main.h \
    interpret.h gcollect.h exec.h comm.h closure.h backend.h array.h \
    actions.h call_out.h typedefs.h driver.h sent.h instrs.h port.h \
    config.h hosts/unix.h hosts/be/be.h machine.h

closure.o : xalloc.h switch.h swap.h svalue.h stdstrings.h simul_efun.h \
    simulate.h prolang.h object.h mstrings.h main.h lex.h lang.h \
    interpret.h instrs.h exec.h backend.h array.h closure.h my-alloca.h \
    typedefs.h driver.h ptrtable.h strfuns.h sent.h port.h config.h \
    hosts/unix.h hosts/be/be.h machine.h

comm.o : util/erq/erq.h ../mudlib/sys/input_to.h \
    ../mudlib/sys/driver_hook.h xalloc.h wiz_list.h swap.h svalue.h \
    stdstrings.h simulate.h sent.h object.h mstrings.h main.h interpret.h \
    gcollect.h filestat.h exec.h ed.h closure.h backend.h array.h actions.h \
    access_check.h comm.h telnet.h my-alloca.h typedefs.h driver.h \
    strfuns.h instrs.h config.h port.h hosts/unix.h hosts/be/be.h machine.h

dumpstat.o : xalloc.h svalue.h smalloc.h stdstrings.h simulate.h ptrtable.h \
    object.h mstrings.h mapping.h filestat.h exec.h closure.h array.h \
    dumpstat.h typedefs.h driver.h strfuns.h sent.h instrs.h port.h \
    config.h hosts/unix.h hosts/be/be.h machine.h

ed.o : ../mudlib/sys/regexp.h xalloc.h svalue.h stdstrings.h simulate.h \
    object.h mstrings.h mregex.h main.h interpret.h gcollect.h filestat.h \
    comm.h closure.h actions.h ed.h typedefs.h driver.h strfuns.h sent.h \
    exec.h instrs.h regexp.h pcre/pcre.h port.h config.h hosts/unix.h \
    hosts/be/be.h machine.h

efuns.o : ../mudlib/sys/time.h ../mudlib/sys/strings.h \
    ../mudlib/sys/regexp.h ../mudlib/sys/objectinfo.h \
    ../mudlib/sys/debug_info.h xalloc.h wiz_list.h svalue.h swap.h \
    strfuns.h smalloc.h simulate.h stdstrings.h random.h ptrtable.h \
    otable.h object.h mstrings.h mregex.h md5.h mapping.h main.h \
    interpret.h instrs.h heartbeat.h dumpstat.h comm.h closure.h call_out.h \
    backend.h array.h actions.h efuns.h my-rusage.h my-alloca.h typedefs.h \
    driver.h sent.h exec.h regexp.h pcre/pcre.h port.h config.h \
    hosts/unix.h hosts/be/be.h machine.h

files.o : ../mudlib/sys/files.h xalloc.h svalue.h stdstrings.h simulate.h \
    mstrings.h main.h lex.h interpret.h filestat.h comm.h array.h files.h \
    my-alloca.h typedefs.h driver.h strfuns.h sent.h exec.h instrs.h port.h \
    config.h hosts/unix.h hosts/be/be.h machine.h

gcollect.o : ../mudlib/sys/driver_hook.h xalloc.h wiz_list.h swap.h \
    stdstrings.h smalloc.h simul_efun.h simulate.h sent.h prolang.h parse.h \
    otable.h object.h mstrings.h mregex.h mapping.h main.h lex.h \
    interpret.h instrs.h heartbeat.h filestat.h exec.h ed.h comm.h \
    closure.h call_out.h backend.h array.h actions.h gcollect.h typedefs.h \
    driver.h svalue.h ptrtable.h strfuns.h regexp.h pcre/pcre.h port.h \
    config.h hosts/unix.h hosts/be/be.h machine.h

hash.o : hash.h

heartbeat.o : ../mudlib/sys/debug_info.h xalloc.h wiz_list.h svalue.h \
    strfuns.h simulate.h sent.h object.h mstrings.h interpret.h gcollect.h \
    comm.h backend.h array.h actions.h heartbeat.h typedefs.h driver.h \
    exec.h instrs.h main.h port.h config.h hosts/unix.h hosts/be/be.h \
    machine.h

interpret.o : ../mudlib/sys/trace.h ../mudlib/sys/debug_info.h \
    ../mudlib/sys/driver_hook.h xalloc.h wiz_list.h switch.h swap.h \
    svalue.h smalloc.h stdstrings.h simul_efun.h simulate.h object.h \
    mstrings.h mapping.h lex.h instrs.h heartbeat.h gcollect.h filestat.h \
    exec.h comm.h closure.h backend.h array.h actions.h interpret.h \
    my-alloca.h typedefs.h driver.h ptrtable.h strfuns.h sent.h main.h \
    port.h config.h hosts/unix.h hosts/be/be.h machine.h

lex.o : efun_defs.c ../mudlib/sys/driver_hook.h xalloc.h wiz_list.h \
    svalue.h strfuns.h stdstrings.h simul_efun.h simulate.h prolang.h \
    patchlevel.h object.h mstrings.h mempools.h main.h lang.h interpret.h \
    instrs.h hash.h gcollect.h filestat.h exec.h comm.h closure.h backend.h \
    array.h lex.h my-alloca.h typedefs.h driver.h ptrtable.h sent.h port.h \
    config.h hosts/unix.h hosts/be/be.h machine.h

main.o : xalloc.h wiz_list.h swap.h svalue.h stdstrings.h simul_efun.h \
    simulate.h random.h pcre/pcre.h patchlevel.h otable.h object.h \
    mstrings.h mregex.h mapping.h lex.h interpret.h gcollect.h filestat.h \
    comm.h array.h backend.h main.h my-alloca.h typedefs.h driver.h \
    ptrtable.h exec.h strfuns.h sent.h instrs.h regexp.h port.h config.h \
    hosts/unix.h hosts/be/be.h machine.h

mapping.o : xalloc.h wiz_list.h svalue.h smalloc.h simulate.h object.h \
    mstrings.h main.h interpret.h gcollect.h closure.h backend.h array.h \
    mapping.h my-alloca.h typedefs.h driver.h strfuns.h sent.h exec.h \
    instrs.h port.h config.h hosts/unix.h hosts/be/be.h machine.h

md5.o : strfuns.h md5.h machine.h typedefs.h driver.h port.h config.h \
    hosts/unix.h hosts/be/be.h

mempools.o : xalloc.h gcollect.h mempools.h driver.h typedefs.h port.h \
    config.h hosts/unix.h hosts/be/be.h machine.h

mkfunc.o : make_func.c ../mudlib/sys/driver_hook.h hash.h exec.h \
    my-alloca.h driver.h typedefs.h port.h config.h hosts/unix.h \
    hosts/be/be.h machine.h

mregex.o : ../mudlib/sys/regexp.h ../mudlib/sys/debug_info.h xalloc.h \
    svalue.h strfuns.h simulate.h pcre/pcre.h comm.h regexp.h mstrings.h \
    hash.h gcollect.h mregex.h driver.h typedefs.h sent.h exec.h port.h \
    config.h hosts/unix.h hosts/be/be.h machine.h

mstrings.o : ../mudlib/sys/debug_info.h xalloc.h svalue.h strfuns.h \
    stdstrings.h simulate.h main.h hash.h gcollect.h mstrings.h driver.h \
    typedefs.h sent.h exec.h port.h config.h hosts/unix.h hosts/be/be.h \
    machine.h

object.o : ../mudlib/sys/inherit_list.h ../mudlib/sys/include_list.h \
    ../mudlib/sys/functionlist.h ../mudlib/sys/driver_hook.h xalloc.h \
    wiz_list.h svalue.h swap.h strfuns.h stdstrings.h simul_efun.h \
    simulate.h sent.h random.h ptrtable.h prolang.h otable.h mstrings.h \
    mempools.h mapping.h main.h instrs.h interpret.h filestat.h exec.h \
    comm.h closure.h backend.h array.h actions.h object.h my-alloca.h \
    typedefs.h driver.h ../mudlib/sys/lpctypes.h port.h config.h \
    hosts/unix.h hosts/be/be.h machine.h

otable.o : ../mudlib/sys/debug_info.h xalloc.h svalue.h simulate.h \
    strfuns.h object.h mstrings.h hash.h gcollect.h backend.h otable.h \
    typedefs.h driver.h sent.h exec.h instrs.h main.h port.h config.h \
    hosts/unix.h hosts/be/be.h machine.h

parse.o : xalloc.h wiz_list.h svalue.h stdstrings.h simulate.h object.h \
    mstrings.h main.h interpret.h instrs.h gcollect.h closure.h array.h \
    actions.h parse.h typedefs.h driver.h strfuns.h sent.h exec.h port.h \
    config.h hosts/unix.h hosts/be/be.h machine.h

parse_old.o : xalloc.h wiz_list.h svalue.h stdstrings.h simulate.h random.h \
    object.h mstrings.h main.h gcollect.h interpret.h closure.h array.h \
    actions.h parse.h my-alloca.h typedefs.h driver.h strfuns.h sent.h \
    exec.h instrs.h port.h config.h hosts/unix.h hosts/be/be.h machine.h

parser.o : lang.c pkg-alists.h ../mudlib/sys/driver_hook.h xalloc.h \
    wiz_list.h switch.h swap.h svalue.h stdstrings.h simul_efun.h \
    simulate.h object.h mstrings.h mapping.h main.h lex.h instrs.h \
    interpret.h gcollect.h exec.h closure.h backend.h array.h prolang.h \
    my-alloca.h typedefs.h driver.h ptrtable.h strfuns.h sent.h port.h \
    config.h hosts/unix.h hosts/be/be.h machine.h

dftables.o : pcre/maketables.c pcre/internal.h pcre/pcre.h pcre/config.h

pkg-alists.o : xalloc.h svalue.h simulate.h mstrings.h main.h interpret.h \
    array.h my-alloca.h pkg-alists.h typedefs.h driver.h strfuns.h sent.h \
    exec.h instrs.h port.h config.h hosts/unix.h hosts/be/be.h machine.h

pkg-mysql.o : xalloc.h svalue.h simulate.h mstrings.h interpret.h array.h \
    pkg-mysql.h my-alloca.h typedefs.h driver.h strfuns.h sent.h exec.h \
    instrs.h port.h config.h hosts/unix.h hosts/be/be.h machine.h

pkg-pcre.o : pcre/study.c pcre/maketables.c pcre/get.c pcre/pcre.c driver.h \
    pcre/internal.h pcre/chartables.c port.h config.h pcre/pcre.h \
    pcre/config.h hosts/unix.h hosts/be/be.h machine.h

port.o : hosts/crypt.c main.h backend.h my-rusage.h driver.h typedefs.h \
    port.h config.h hosts/unix.h hosts/be/be.h machine.h

ptrtable.o : simulate.h mempools.h ptrtable.h driver.h svalue.h strfuns.h \
    sent.h exec.h typedefs.h port.h config.h hosts/unix.h hosts/be/be.h \
    machine.h

random.o : random.h driver.h port.h config.h hosts/unix.h hosts/be/be.h \
    machine.h

regexp.o : main.h xalloc.h simulate.h comm.h regexp.h driver.h typedefs.h \
    svalue.h strfuns.h sent.h exec.h port.h config.h hosts/unix.h \
    hosts/be/be.h machine.h

simul_efun.o : xalloc.h swap.h svalue.h stdstrings.h simulate.h ptrtable.h \
    object.h mstrings.h lex.h interpret.h instrs.h gcollect.h exec.h \
    array.h simul_efun.h my-alloca.h typedefs.h driver.h strfuns.h sent.h \
    port.h config.h hosts/unix.h hosts/be/be.h machine.h

simulate.o : ../mudlib/sys/rtlimits.h ../mudlib/sys/files.h \
    ../mudlib/sys/driver_hook.h ../mudlib/sys/debug_info.h xalloc.h \
    wiz_list.h svalue.h swap.h strfuns.h stdstrings.h smalloc.h \
    simul_efun.h sent.h prolang.h otable.h object.h mstrings.h mapping.h \
    main.h lex.h instrs.h interpret.h heartbeat.h gcollect.h filestat.h \
    comm.h closure.h call_out.h backend.h array.h actions.h simulate.h \
    my-alloca.h typedefs.h driver.h ptrtable.h exec.h port.h config.h \
    hosts/unix.h hosts/be/be.h machine.h

sprintf.o : xalloc.h swap.h svalue.h stdstrings.h simul_efun.h simulate.h \
    sent.h random.h ptrtable.h object.h mstrings.h mapping.h main.h \
    instrs.h interpret.h exec.h comm.h closure.h array.h actions.h \
    sprintf.h my-alloca.h typedefs.h driver.h strfuns.h port.h config.h \
    hosts/unix.h hosts/be/be.h machine.h

stdstrings.o : mstrings.h stdstrings.h typedefs.h driver.h port.h config.h \
    hosts/unix.h hosts/be/be.h machine.h

strfuns.o : xalloc.h svalue.h stdstrings.h simulate.h mstrings.h comm.h \
    strfuns.h my-alloca.h typedefs.h driver.h sent.h exec.h port.h config.h \
    hosts/unix.h hosts/be/be.h machine.h

swap.o : ../mudlib/sys/debug_info.h xalloc.h wiz_list.h svalue.h strfuns.h \
    stdstrings.h simul_efun.h simulate.h random.h prolang.h otable.h \
    object.h mstrings.h mapping.h main.h interpret.h gcollect.h exec.h \
    comm.h backend.h array.h swap.h typedefs.h driver.h ptrtable.h sent.h \
    instrs.h port.h config.h hosts/unix.h hosts/be/be.h machine.h

wiz_list.o : xalloc.h svalue.h stdstrings.h simulate.h object.h mstrings.h \
    mapping.h main.h interpret.h gcollect.h backend.h array.h \
    ../mudlib/sys/wizlist.h wiz_list.h my-alloca.h typedefs.h driver.h \
    strfuns.h sent.h exec.h instrs.h port.h config.h hosts/unix.h \
    hosts/be/be.h machine.h

xalloc.o : smalloc.c main.h simulate.h interpret.h xalloc.h driver.h \
    ../mudlib/sys/debug_info.h object.h exec.h svalue.h stdstrings.h \
    mstrings.h gcollect.h backend.h smalloc.h typedefs.h strfuns.h sent.h \
    instrs.h port.h config.h hosts/unix.h hosts/be/be.h machine.h

# --- DO NOT MODIFY THIS LINE -- AUTO-DEPENDS PRECEDE ---
# --- DO NOT MODIFY THIS LINE -- SELECTED AUTO-DEPENDS FOLLOW ---
actions.o : stdstrings.h instrs.h

array.o : stdstrings.h instrs.h

backend.o : stdstrings.h instrs.h

bitstrings.o : instrs.h

call_out.o : stdstrings.h instrs.h

closure.o : stdstrings.h lang.h instrs.h

comm.o : stdstrings.h instrs.h

dumpstat.o : stdstrings.h instrs.h

ed.o : stdstrings.h instrs.h

efuns.o : stdstrings.h instrs.h

files.o : stdstrings.h instrs.h

gcollect.o : stdstrings.h instrs.h

heartbeat.o : instrs.h

interpret.o : stdstrings.h instrs.h

lex.o : efun_defs.c stdstrings.h lang.h instrs.h

main.o : stdstrings.h instrs.h

mapping.o : instrs.h

mkfunc.o : make_func.c

mstrings.o : stdstrings.h

object.o : stdstrings.h instrs.h

otable.o : instrs.h

parse.o : stdstrings.h instrs.h

parse_old.o : stdstrings.h instrs.h

parser.o : lang.c stdstrings.h instrs.h

pkg-alists.o : instrs.h

pkg-mysql.o : instrs.h

simul_efun.o : stdstrings.h instrs.h

simulate.o : stdstrings.h instrs.h

sprintf.o : stdstrings.h instrs.h

stdstrings.o : stdstrings.h

strfuns.o : stdstrings.h

swap.o : stdstrings.h instrs.h

wiz_list.o : stdstrings.h instrs.h

xalloc.o : stdstrings.h instrs.h

# --- DO NOT MODIFY THIS LINE -- SELECTED AUTO-DEPENDS PRECEDE ---
