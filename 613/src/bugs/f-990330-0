Subject: Master.c update
From: Michael <virus@mpinet.net>
Date: Tue, 30 Mar 1999 11:21:07 -0500
Type: Feature
State: Unclassified

Over at Realm of the Magi (stormbringer.sysconn.com 1501), we are
developing an enhanced 2.4.5 mudlib called Magilib and wanted to provide
you with something we added to out master.c to provide support for MudOS
and Amylaar 'creation' functions through either reset() or create(). We
hope your LD driver (which we have been using the entire time) could
come of use with this additional enhancement to the master.c code.

-- Michael  (Mystic of RotM)


Master.c update
===============
Applying these new lines of code into the master.c, will allow the mud
to handle either the Amylaar (Compat) or MudOS (Native) reset/create
functions in objects to be handled in one mudlib thus allowing porting
of code for testing and use.

In your master.c, replace this:

    set_driver_hook(H_CREATE_SUPER, "reset");
    set_driver_hook(H_CREATE_OB,    "reset");
    set_driver_hook(H_CREATE_CLONE, "reset");


With this:

    set_driver_hook( H_CREATE_SUPER, unbound_lambda(0, ({#',,
          ({#'call_other, ({#'this_object}), "create"}),
            ({#'call_other, ({#'this_object}), "reset"})
            }) ) );
    set_driver_hook( H_CREATE_OB, unbound_lambda(0, ({#',,
          ({#'call_other, ({#'this_object}), "create"}),
            ({#'call_other, ({#'this_object}), "reset"})
            }) ) );
    set_driver_hook( H_CREATE_CLONE, unbound_lambda(0, ({#',,
          ({#'call_other, ({#'this_object}), "create"}),
            ({#'call_other, ({#'this_object}), "reset"})
            }) ) );



